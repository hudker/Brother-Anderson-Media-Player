(function(){var e={601:function(e,t,s){"use strict";s.d(t,{Z:function(){return Tu}});var i=s(9242),a=s(3396),l=s(7139);const o={class:"main-loading"},n={class:"spinner-border text-primary",role:"status"},r={class:"visually-hidden"};function d(e,t,s,d,c,u){const p=(0,a.up)("AppHeader"),m=(0,a.up)("router-view"),g=(0,a.up)("PlayQueue"),h=(0,a.up)("MediaInfo"),y=(0,a.up)("MiniPlayer"),w=(0,a.up)("Alert"),f=(0,a.up)("AddStream"),b=(0,a.up)("Remote"),v=(0,a.up)("UploadDialog"),_=(0,a.up)("AddPlaylistDialog"),k=(0,a.Q2)("t");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(p,{onSendFiles:u.sendFiles},null,8,["onSendFiles"]),(0,a._)("main",{class:(0,l.C_)([this.playerStore.playing?"footer-bottom-margin":"","flex1"])},[(0,a.Wm)(m)],2),(0,a.Wm)(g),(0,a.Wm)(h),(0,a.Wm)(y,{ref:"miniPlayer"},null,512),(0,a.Wm)(w),(0,a.Wm)(f),(0,a.Wm)(b),(0,a.Wm)(v,{ref:"uploadComponent"},null,512),(0,a.Wm)(_,{ref:"addPlaylistComponent"},null,512),(0,a.wy)((0,a._)("div",o,[(0,a._)("div",n,[(0,a.wy)((0,a._)("span",r,null,512),[[k,"LOADING"]])])],512),[[i.F8,this.appStore.loading]])],64)}s(7658);const c={class:"navbar navbar-light navbar-expand-md shadow-sm sticky-top align-items-center container-fluid main-navbar"},u={class:"flex1-collapsible"},p=["src"],m={class:"d-flex justify-content-center nav-collapsed collapsed"},g={class:"text-primary nav-main-title"},h={class:"dropdown dropstart nav-collapsed"},y={class:"dropdown-menu dropdown-menu-start"},w={class:"nav-button d-flex btn btn-lg medium"},f=["src"],b={class:"collapsed-menu-text"},v={class:"nav-button d-flex btn btn-lg medium"},_=["src"],k={class:"collapsed-menu-text"},S={class:"nav-button d-flex btn btn-lg medium"},$=["src"],D={class:"collapsed-menu-text"},T={class:"nav-button d-flex btn btn-lg medium"},E=["src"],A={class:"collapsed-menu-text"},C={class:"nav-button d-flex btn btn-lg medium"},x=["src"],I={class:"collapsed-menu-text"},P=(0,a._)("li",null,[(0,a._)("hr",{class:"dropdown-divider"})],-1),L={class:"nav-button d-flex btn btn-lg medium"},M=["src"],R={class:"collapsed-menu-text"},O={class:"nav-button d-flex btn btn-lg medium"},F=["src"],B={class:"collapsed-menu-text"},W={class:"nav-button d-flex btn btn-lg medium"},N=["src"],K={class:"collapsed-menu-text"},H=(0,a._)("li",null,[(0,a._)("hr",{class:"dropdown-divider"})],-1),Y=["src"],V={class:"collapsed-menu-text"},G=["src"],q={class:"collapsed-menu-text"},U=["src"],j={class:"collapsed-menu-text"},z={class:"d-flex justify-content-center nav-collapsible"},Q={class:"btn btn-lg nav-button medium"},Z=["src"],J={class:"btn btn-lg nav-button medium"},X=["src"],ee={class:"btn btn-lg nav-button medium"},te=["src"],se={class:"btn btn-lg nav-button medium"},ie=["src"],ae={class:"btn btn-lg nav-button medium"},le=["src"],oe={class:"d-flex flex1 justify-content-end nav-collapsible"},ne={class:"dropdown dropstart"},re={class:"dropdown-menu nav-dropdown"},de={class:"nav-button d-flex btn btn-lg medium"},ce=["src"],ue={class:"collapsed-menu-text"},pe={class:"nav-button d-flex btn btn-lg medium"},me=["src"],ge={class:"collapsed-menu-text"},he=(0,a._)("li",null,[(0,a._)("hr",{class:"dropdown-divider"})],-1),ye=["src"],we={class:"collapsed-menu-text"},fe=["src"],be={class:"collapsed-menu-text"},ve=["src"],_e={class:"collapsed-menu-text"},ke={class:"nav-button d-flex btn btn-lg medium"},Se=["src"],$e={class:"collapsed-menu-text"},De={class:"navtabs-container border-bottom"},Te={class:"flex1 d-flex align-items-center"},Ee={class:"dropdown"},Ae={class:"btn btn-lg image-button hidden-arrow",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},Ce=["src"],xe={class:"dropdown-menu dropdown-menu-start"},Ie={class:"nav justify-content-center navtabs"},Pe={class:"nav-item"},Le={class:"nav-item"},Me={class:"nav-item"},Re={class:"nav-item"},Oe={key:0,class:"d-flex align-items-center"},Fe={"aria-label":"breadcrumb"},Be={class:"breadcrumb"},We=["onClick"],Ne={key:1,class:"d-flex align-items-center"},Ke={class:"text-primary breadcrumb"},He=["src"],Ye={class:"breadcrumb-content-item"},Ve={class:"flex1 d-flex justify-content-end align-items-center"},Ge=["title"],qe=["src"],Ue=["title"],je=["src"];function ze(e,t,s,o,n,r){const d=(0,a.up)("RouterLink"),ze=(0,a.up)("ImageButton"),Qe=(0,a.Q2)("t"),Ze=(0,a.Q2)("tooltip");return(0,a.wg)(),(0,a.iD)("nav",c,[(0,a._)("div",u,[(0,a.Wm)(d,{to:{name:"VideoList"}},{default:(0,a.w5)((()=>[(0,a._)("img",{id:"logo",src:e.$getAppAsset(e.$getIcons().vlcIcon,48,!0),width:"48",onClick:t[0]||(t[0]=e=>r.iconClick()),class:(0,l.C_)(this.clicked>2&&this.clicked%2==1?"animate":"")},null,10,p)])),_:1})]),(0,a._)("div",m,[(0,a._)("p",g,(0,l.zw)(r.getRouteName()),1)]),(0,a._)("div",h,[(0,a.Wm)(ze,{type:"menu","data-bs-toggle":"dropdown","aria-expanded":"false"}),(0,a._)("ul",y,[(0,a._)("li",null,[(0,a.Wm)(d,{to:{name:"VideoList"}},{default:(0,a.w5)((()=>[(0,a._)("div",w,[(0,a._)("img",{class:"nav-button",src:e.$getAppAsset(e.$getIcons().videoIcon)},null,8,f),(0,a.wy)((0,a._)("p",b,null,512),[[Qe,"VIDEO"]])])])),_:1}),(0,a.Wm)(d,{to:{name:"AudioArtists"}},{default:(0,a.w5)((()=>[(0,a._)("div",v,[(0,a._)("img",{src:e.$getAppAsset(e.$getIcons().audioIcon)},null,8,_),(0,a.wy)((0,a._)("p",k,null,512),[[Qe,"AUDIO"]])])])),_:1}),(0,a.Wm)(d,{to:{name:"BrowseList"}},{default:(0,a.w5)((()=>[(0,a._)("div",S,[(0,a._)("img",{src:e.$getAppAsset(e.$getIcons().folderIcon)},null,8,$),(0,a.wy)((0,a._)("p",D,null,512),[[Qe,"BROWSE"]])])])),_:1}),(0,a.Wm)(d,{to:{name:"PlaylistList"}},{default:(0,a.w5)((()=>[(0,a._)("div",T,[(0,a._)("img",{src:e.$getAppAsset(e.$getIcons().playlistIcon)},null,8,E),(0,a.wy)((0,a._)("p",A,null,512),[[Qe,"PLAYLISTS"]])])])),_:1}),(0,a.Wm)(d,{to:{name:"More"}},{default:(0,a.w5)((()=>[(0,a._)("div",C,[(0,a._)("img",{src:e.$getAppAsset(e.$getIcons().moreIcon)},null,8,x),(0,a.wy)((0,a._)("p",I,null,512),[[Qe,"MORE"]])])])),_:1})]),P,(0,a._)("li",null,[(0,a.Wm)(d,{to:{name:"SearchList"}},{default:(0,a.w5)((()=>[(0,a._)("div",L,[(0,a._)("img",{src:"./icons/search.svg"},null,8,M),(0,a.wy)((0,a._)("p",R,null,512),[[Qe,"SEARCH"]])])])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(d,{to:{name:"Logs"}},{default:(0,a.w5)((()=>[(0,a._)("div",O,[(0,a._)("img",{src:"./icons/crash.svg"},null,8,F),(0,a.wy)((0,a._)("p",B,null,512),[[Qe,"LOG_FILE"]])])])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(d,{to:{name:"Feedback"}},{default:(0,a.w5)((()=>[(0,a._)("div",W,[(0,a._)("img",{src:"./icons/feedback.svg"},null,8,N),(0,a.wy)((0,a._)("p",K,null,512),[[Qe,"FEEDBACK"]])])])),_:1})]),H,(0,a._)("li",null,[(0,a._)("div",{class:"nav-button d-flex btn btn-lg medium",onClick:t[1]||(t[1]=e=>this.$emit("send-files"))},[(0,a._)("img",{src:"./icons/file_upload.svg"},null,8,Y),(0,a.wy)((0,a._)("p",V,null,512),[[Qe,"SEND_FILES"]])])]),(0,a._)("li",null,[(0,a._)("div",{class:"nav-button d-flex btn btn-lg medium",onClick:t[2]||(t[2]=(...e)=>r.changeTheme&&r.changeTheme(...e))},[(0,a.wy)((0,a._)("img",{src:"./icons/dark_mode.svg"},null,8,G),[[i.F8,!this.appStore.darkTheme]]),(0,a.wy)((0,a._)("p",q,null,512),[[Qe,"DARK_THEME"],[i.F8,!this.appStore.darkTheme]]),(0,a.wy)((0,a._)("img",{src:"./icons/light_mode.svg"},null,8,U),[[i.F8,this.appStore.darkTheme]]),(0,a.wy)((0,a._)("p",j,null,512),[[Qe,"LIGHT_THEME"],[i.F8,this.appStore.darkTheme]])])])])]),(0,a._)("div",z,[(0,a.Wm)(d,{to:{name:"VideoList"}},{default:(0,a.w5)((()=>[(0,a._)("button",Q,[(0,a._)("img",{src:e.$getAppAsset(e.$getIcons().videoIcon)},null,8,Z),(0,a.wy)((0,a._)("p",null,null,512),[[Qe,"VIDEO"]])])])),_:1}),(0,a.Wm)(d,{to:{name:"AudioArtists"}},{default:(0,a.w5)((()=>[(0,a._)("button",J,[(0,a._)("img",{src:e.$getAppAsset(e.$getIcons().audioIcon)},null,8,X),(0,a.wy)((0,a._)("p",null,null,512),[[Qe,"AUDIO"]])])])),_:1}),(0,a.Wm)(d,{to:{name:"BrowseList"}},{default:(0,a.w5)((()=>[(0,a._)("button",ee,[(0,a._)("img",{src:e.$getAppAsset(e.$getIcons().folderIcon)},null,8,te),(0,a.wy)((0,a._)("p",null,null,512),[[Qe,"BROWSE"]])])])),_:1}),(0,a.Wm)(d,{to:{name:"PlaylistList"}},{default:(0,a.w5)((()=>[(0,a._)("button",se,[(0,a._)("img",{src:e.$getAppAsset(e.$getIcons().playlistIcon)},null,8,ie),(0,a.wy)((0,a._)("p",null,null,512),[[Qe,"PLAYLISTS"]])])])),_:1}),(0,a.Wm)(d,{to:{name:"More"}},{default:(0,a.w5)((()=>[(0,a._)("button",ae,[(0,a._)("img",{src:e.$getAppAsset(e.$getIcons().moreIcon)},null,8,le),(0,a.wy)((0,a._)("p",null,null,512),[[Qe,"MORE"]])])])),_:1})]),(0,a._)("div",oe,[(0,a.wy)((0,a.Wm)(ze,{type:"cloud_off",class:"blink",onClick:(0,i.iM)(r.disconnectedClicked,["stop"]),"data-bs-placement":"bottom",title:e.$t("DISCONNECTED")},null,8,["onClick","title"]),[[i.F8,!e.appStore.socketOpened],[Ze]]),(0,a.Wm)(d,{to:{name:"SearchList"}},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(ze,{type:"search","data-bs-placement":"bottom",title:e.$t("SEARCH")},null,8,["title"]),[[Ze]])])),_:1}),(0,a._)("div",ne,[(0,a.Wm)(ze,{type:"more_vert","data-bs-toggle":"dropdown","aria-expanded":"false"}),(0,a._)("ul",re,[(0,a._)("li",null,[(0,a.Wm)(d,{to:{name:"Logs"}},{default:(0,a.w5)((()=>[(0,a._)("div",de,[(0,a._)("img",{src:"./icons/crash.svg"},null,8,ce),(0,a.wy)((0,a._)("p",ue,null,512),[[Qe,"LOG_FILE"]])])])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(d,{to:{name:"Feedback"}},{default:(0,a.w5)((()=>[(0,a._)("div",pe,[(0,a._)("img",{src:"./icons/feedback.svg"},null,8,me),(0,a.wy)((0,a._)("p",ge,null,512),[[Qe,"FEEDBACK"]])])])),_:1})]),he,(0,a._)("li",null,[(0,a._)("div",{class:"nav-button d-flex btn btn-lg medium",onClick:t[3]||(t[3]=e=>this.$emit("send-files"))},[(0,a._)("img",{src:"./icons/file_upload.svg"},null,8,ye),(0,a.wy)((0,a._)("p",we,null,512),[[Qe,"SEND_FILES"]])])]),(0,a._)("li",null,[(0,a._)("div",{class:"nav-button d-flex btn btn-lg medium",onClick:t[4]||(t[4]=(...e)=>r.changeTheme&&r.changeTheme(...e))},[(0,a.wy)((0,a._)("img",{src:"./icons/dark_mode.svg"},null,8,fe),[[i.F8,!this.appStore.darkTheme]]),(0,a.wy)((0,a._)("p",be,null,512),[[Qe,"DARK_THEME"],[i.F8,!this.appStore.darkTheme]]),(0,a.wy)((0,a._)("img",{src:"./icons/light_mode.svg"},null,8,ve),[[i.F8,this.appStore.darkTheme]]),(0,a.wy)((0,a._)("p",_e,null,512),[[Qe,"LIGHT_THEME"],[i.F8,this.appStore.darkTheme]])])]),(0,a._)("li",null,[(0,a.Wm)(d,{to:{name:"About"}},{default:(0,a.w5)((()=>[(0,a._)("div",ke,[(0,a._)("img",{src:"./icons/info.svg"},null,8,Se),(0,a.wy)((0,a._)("p",$e,null,512),[[Qe,"ABOUT"]])])])),_:1})])])])]),(0,a.wy)((0,a._)("div",De,[(0,a._)("div",Te,[(0,a.wy)((0,a.Wm)(ze,{type:"grid_view",onClick:t[5]||(t[5]=(0,i.iM)((e=>this.appStore.toggleDisplayType(this.$route.name)),["stop"])),"data-bs-placement":"bottom",title:e.$t("DISPLAY_GRID")},null,8,["title"]),[[i.F8,this.appStore.displayType[this.$route.name]],[Ze]]),(0,a.wy)((0,a.Wm)(ze,{type:"view_list",onClick:t[6]||(t[6]=(0,i.iM)((e=>this.appStore.toggleDisplayType(this.$route.name)),["stop"])),"data-bs-placement":"bottom",title:e.$t("DISPLAY_LIST")},null,8,["title"]),[[i.F8,!this.appStore.displayType[this.$route.name]],[Ze]]),(0,a.wy)((0,a._)("div",Ee,[(0,a._)("button",Ae,[(0,a._)("img",{class:"image-button-image",src:e.$getAppAsset(e.$getIcons().groupIcon,24)},null,8,Ce)]),(0,a._)("ul",xe,[(0,a._)("li",null,[(0,a.wy)((0,a._)("a",{class:(0,l.C_)(["dropdown-item cursor-pointer",r.isActive(0)?"active":""]),onClick:t[7]||(t[7]=e=>this.appStore.changeGrouping(0))},null,2),[[Qe,"VIDEO_GROUP_NONE"]])]),(0,a._)("li",null,[(0,a.wy)((0,a._)("a",{class:(0,l.C_)(["dropdown-item cursor-pointer",r.isActive(1)?"active":""]),onClick:t[8]||(t[8]=e=>this.appStore.changeGrouping(1))},null,2),[[Qe,"VIDEO_GROUP_BY_FOLDER"]])]),(0,a._)("li",null,[(0,a.wy)((0,a._)("a",{class:(0,l.C_)(["dropdown-item cursor-pointer",r.isActive(2)?"active":""]),onClick:t[9]||(t[9]=e=>this.appStore.changeGrouping(2))},null,2),[[Qe,"VIDEO_GROUP_BY_NAME"]])])])],512),[[i.F8,this.$route.meta.showGrouping]])]),(0,a._)("ul",Ie,[(0,a._)("li",Pe,[(0,a.wy)((0,a.Wm)(d,{class:(0,l.C_)(["nav-link","AudioArtists"==this.$route.name?"active text-primary":""]),to:{name:"AudioArtists"}},null,8,["class"]),[[i.F8,this.$route.meta.isAudio],[Qe,"ARTISTS"]])]),(0,a._)("li",Le,[(0,a.wy)((0,a.Wm)(d,{class:(0,l.C_)(["nav-link","AudioAlbums"==this.$route.name?"active text-primary":""]),to:{name:"AudioAlbums"}},null,8,["class"]),[[i.F8,this.$route.meta.isAudio],[Qe,"ALBUMS"]])]),(0,a._)("li",Me,[(0,a.wy)((0,a.Wm)(d,{class:(0,l.C_)(["nav-link","AudioTracks"==this.$route.name?"active text-primary":""]),to:{name:"AudioTracks"}},null,8,["class"]),[[i.F8,this.$route.meta.isAudio],[Qe,"TRACKS"]])]),(0,a._)("li",Re,[(0,a.wy)((0,a.Wm)(d,{class:(0,l.C_)(["nav-link","AudioGenres"==this.$route.name?"active text-primary":""]),to:{name:"AudioGenres"}},null,8,["class"]),[[i.F8,this.$route.meta.isAudio],[Qe,"GENRES"]])])]),this.hasBreadcrumb()?((0,a.wg)(),(0,a.iD)("div",Oe,[(0,a._)("nav",Fe,[(0,a._)("ol",Be,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.browserStore.breadcrumb,(e=>((0,a.wg)(),(0,a.iD)("li",{class:(0,l.C_)(["breadcrumb-item",e.path==this.$route.params.browseId?"":"text-primary clickable"]),key:e.path,onClick:t=>r.manageClick(e)},(0,l.zw)(e.title),11,We)))),128))])])])):this.getTitle()&&e.$route.meta.icon?((0,a.wg)(),(0,a.iD)("div",Ne,[(0,a._)("div",Ke,[(0,a._)("img",{src:e.$getAppAsset(e.$route.meta.icon)},null,8,He),(0,a.Uk)(),(0,a._)("span",Ye,(0,l.zw)(this.getTitle()),1)])])):(0,a.kq)("",!0),(0,a._)("div",Ve,[(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{class:"btn btn-lg image-button",onClick:t[10]||(t[10]=(0,i.iM)((t=>e.$playAll(this.$route)),["stop"])),"data-bs-placement":"bottom",title:e.$t("PLAY_ALL")},[(0,a._)("img",{class:"image-button-image",src:e.$getAppAsset(e.$getIcons().playAllIcon,24)},null,8,qe)],8,Ge)),[[i.F8,this.$route.meta.showFAB],[Ze]]),(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{class:"btn btn-lg image-button",onClick:t[11]||(t[11]=(0,i.iM)((t=>e.$resumePlayback(this.$route.meta.isAudio)),["stop"])),"data-bs-placement":"bottom",title:e.$t("RESUME_PLAYBACK")},[(0,a._)("img",{class:"image-button-image",src:e.$getAppAsset(e.$getIcons().resumePlaybackIcon,24)},null,8,je)],8,Ue)),[[i.F8,this.$route.meta.showResume],[Ze]])])],512),[[i.F8,this.$route.meta.showDisplayBar]])])}var Qe=s(1020),Ze=s(4870),Je=s(466);const Xe=(0,Qe.Q_)("app",{state:()=>({loading:!1,wsTicket:"",displayType:(0,Ze.qj)((0,Je._aR)("displayType",{})),videoGrouping:(0,Ze.qj)((0,Je._aR)("videoGrouping",0)),warning:Object,socketOpened:!1,longPollingOpened:!1,showAddStream:!1,needRefresh:!1,needRefreshPlaylist:!1,darkTheme:(0,Ze.qj)((0,Je._aR)("darkTheme",!1)),title:"",loadingTimeout:null}),getters:{},actions:{toggleDisplayType(e){this.displayType[e]=!this.displayType[e]},changeGrouping(e){this.videoGrouping=e},delayLoading(e,t){e?(clearTimeout(this.loadingTimeout),t?this.loading||(this.loadingTimeout=setTimeout(function(){this.loading=!0}.bind(this),800)):this.loading=!1):this.loading=t}}}),et=(0,Qe.Q_)("browser",{state:()=>({breadcrumb:[],descriptions:(0,Ze.qj)([]),networkShares:[]}),getters:{},actions:{}}),tt=["src"];function st(e,t,s,i,l,o){return(0,a.wg)(),(0,a.iD)("div",(0,a.dG)({class:["btn btn-lg image-button",s.selected?"selected":""]},e.$attrs),[(0,a._)("img",{class:"image-button-image selected",src:`./icons/${this.type}.svg`},null,8,tt)],16)}var it={props:{type:String,selected:Boolean}},at=s(89);const lt=(0,at.Z)(it,[["render",st]]);var ot=lt,nt={components:{ImageButton:ot},data(){return{clicked:0}},methods:{disconnectedClicked(){this.$root.startWebSocket()},manageClick(e){""==e.path||"root"==e.path?this.$router.push({name:"BrowseList"}):this.$router.push({name:"BrowseChild",params:{browseId:e.path}})},hasBreadcrumb(){return 0!=this.browserStore.breadcrumb.length},getTitle(){return this.appStore.title},isActive(e){return this.appStore.videoGrouping==e},changeTheme(){this.appStore.darkTheme=!this.appStore.darkTheme},iconClick(){this.clicked++},getRouteName(){if(!this.$route.matched[0])return"";switch(this.$route.matched[0].name){case"Video":return this.$t("VIDEO");case"AudioArtists":return this.$t("AUDIO");case"Browse":return this.$t("BROWSE");case"Playlist":return this.$t("PLAYLISTS");case"SearchList":return this.$t("SEARCH");case"Logs":return this.$t("LOG_FILE");default:return""}}},computed:{...(0,Qe.Kc)(Xe),...(0,Qe.Kc)(et)}};const rt=(0,at.Z)(nt,[["render",ze]]);var dt=rt;const ct={class:"progress-container"},ut={id:"time"},pt={id:"duration"},mt=["max"],gt={id:"player_content",class:"row"},ht={class:"player-info"},yt={id:"title",class:"h6 text-truncate"},wt={id:"artist",class:"text-truncate"},ft=["src"],bt={class:"player_controls player-inner-content col-12 col-md"},vt=(0,a._)("span",{class:"flex1"},null,-1),_t=(0,a._)("span",{class:"flex1"},null,-1),kt={class:"player_right player-inner-content col-12 col-md"},St={class:"player-right-container playqueue-container"},$t={class:"player-right-container volume-container"},Dt=(0,a._)("div",{class:"playing"},[(0,a._)("span",{class:"playing-bar playing-bar1"}),(0,a._)("span",{class:"playing-bar playing-bar2"}),(0,a._)("span",{class:"playing-bar playing-bar3"})],-1),Tt=[Dt];function Et(e,t,s,o,n,r){const d=(0,a.up)("ImageButton"),c=(0,a.up)("VolumeBar"),u=(0,a.Q2)("tooltip");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.wy)((0,a._)("div",{class:(0,l.C_)(["footer",this.playerStore.responsivePlayerShowing?"footer force-show":"footer"]),id:"player",onWheel:t[15]||(t[15]=(0,i.iM)((()=>{}),["prevent"])),onScroll:t[16]||(t[16]=(0,i.iM)((()=>{}),["prevent"]))},[(0,a._)("div",ct,[(0,a._)("p",ut,(0,l.zw)(e.$readableDuration(new Date(this.playerStore.nowPlaying.progress))),1),(0,a._)("p",pt,(0,l.zw)(e.$readableDuration(new Date(this.playerStore.nowPlaying.duration))),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.playerStore.nowPlaying.bookmarks,(e=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(d,{key:e.time,type:"bookmark",class:"bookmark",style:(0,l.j5)(this.getBookmarkLeft(e)),onClick:(0,i.iM)((t=>r.seek(e.time)),["stop"]),"data-bs-placement":"bottom",title:e.title},null,8,["style","onClick","title"])),[[u]]))),128)),(0,a._)("input",{type:"range",ref:"progress",min:"0",max:this.playerStore.nowPlaying.duration,class:"player-progress",step:"1",onChange:t[0]||(t[0]=e=>this.progressChange(e)),onInput:t[1]||(t[1]=e=>this.progressChange(e)),onTouchstart:t[2]||(t[2]=e=>this.progressTouched=!0),onTouchend:t[3]||(t[3]=e=>this.progressTouched=!1),onTouchcancel:t[4]||(t[4]=e=>this.progressTouched=!1)},null,40,mt)]),(0,a._)("div",gt,[(0,a._)("div",{class:"col-12 col-md player-inner-content",id:"media_info",onClick:t[5]||(t[5]=(0,i.iM)((e=>r.toggleMediaInfo(e)),["stop"]))},[(0,a._)("img",{ref:"playerArtwork",class:(0,l.C_)(["player-artwork",this.playerStore.nowPlaying.isVideoPlaying?"video":""])},null,2),(0,a._)("div",ht,[(0,a._)("p",yt,(0,l.zw)(this.playerStore.nowPlaying.title),1),(0,a._)("p",wt,(0,l.zw)(this.playerStore.nowPlaying.artist),1)]),(0,a._)("img",{src:"./icons/info.svg",class:"badge-image"},null,8,ft)]),(0,a._)("div",bt,[vt,(0,a.Wm)(d,{type:"shuffle",id:"player_shuffle",ref:"shuffle",onClick:t[6]||(t[6]=e=>r.shuffle()),class:(0,l.C_)(this.playerStore.nowPlaying.shuffle?"active":"")},null,8,["class"]),(0,a.Wm)(d,{type:"skip_previous",id:"player_previous",ref:"previous",onClick:t[7]||(t[7]=e=>r.previous())},null,512),(0,a.Wm)(d,{type:"replay_10",id:"player_previous_10",ref:"previous10",onClick:t[8]||(t[8]=e=>r.previous10())},null,512),(0,a.wy)((0,a.Wm)(d,{type:"play_circle",class:"big",id:"player_play",ref:"play",onClick:t[9]||(t[9]=e=>r.play())},null,512),[[i.F8,!this.playerStore.nowPlaying.playing]]),(0,a.wy)((0,a.Wm)(d,{type:"pause_circle",class:"big",id:"player_pause",ref:"pause",onClick:t[10]||(t[10]=e=>r.pause())},null,512),[[i.F8,this.playerStore.nowPlaying.playing]]),(0,a.Wm)(d,{type:"forward_10",id:"player_next_10",ref:"next10",onClick:t[11]||(t[11]=e=>r.next10())},null,512),(0,a.Wm)(d,{type:"skip_next",id:"player_next",ref:"next",onClick:t[12]||(t[12]=e=>r.next())},null,512),(0,a.Wm)(d,{id:"player_repeat",ref:"repeat",onClick:t[13]||(t[13]=(0,i.iM)((e=>r.repeat()),["stop"])),type:1!=this.playerStore.nowPlaying.repeat?"repeat":"repeat_one",class:(0,l.C_)(0!=this.playerStore.nowPlaying.repeat?"active":"")},null,8,["type","class"]),_t]),(0,a._)("div",kt,[(0,a._)("div",St,[(0,a.Wm)(d,{type:"queue_music",class:(0,l.C_)(["medium",this.playerStore.playqueueShowing?"active":""]),id:"playqueue",selected:this.playerStore.playqueueShowing,ref:"playqueueButton",onClick:t[14]||(t[14]=(0,i.iM)((e=>r.togglePlayQueue(e)),["stop"]))},null,8,["selected","class"])]),(0,a._)("div",$t,[(0,a.Wm)(c)])])])],34),[[i.F8,this.playerStore.playing]]),(0,a.wy)((0,a._)("div",{class:"mini-player-fab",onClick:t[17]||(t[17]=(0,i.iM)((e=>r.showResponsivePlayer()),["stop"]))},Tt,512),[[i.F8,!this.playerStore.responsivePlayerShowing&&this.playerStore.playing]])],64)}const At=(0,Qe.Q_)("player",{state:()=>({playing:!1,nowPlaying:Object,playqueueData:Object,playqueueShowing:!1,mediaInfoShowing:!1,playQueueEdit:!1,responsivePlayerShowing:!1,showRemote:!1,volume:0,waitingConfirmation:Object}),getters:{},actions:{togglePlayQueueEdit(){this.playQueueEdit=!this.playQueueEdit}}}),Ct="android",xt="true"==={VUE_APP_VLC_PORT:"android",NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_FORCE_SSL||"https:"===location.protocol;let It="8080";xt&&(It="8443");const Pt=`${location.host}`;let Lt;Lt=xt?`https://${Pt}/`:`http://${Pt}/`;let Mt="wss";xt||(Mt="ws");const Rt={desktop:500,android:500},Ot={pollingInterval:Rt[Ct]||500,translation:`${Lt}translation`,code:`${Lt}code`,secureUrl:`${Lt}secure-url`,sendLogs:`${Lt}logs`,verifyCode:`${Lt}verify-code`,websocket:`${Mt}://${Pt}/echo`,websocketAuthTicket:`${Lt}wsticket`,uploadMedia:`${Lt}upload-media`,videoList:(e,t,s)=>{var i="";t&&(i=`&group=${t}`);var a="";return s&&(a=`&folder=${s}`),`${Lt}video-list?grouping=${e}${i}${a}`},artistList:`${Lt}artist-list`,albumList:`${Lt}album-list`,trackList:`${Lt}track-list`,genreList:`${Lt}genre-list`,artistDetails:e=>`${Lt}artist?id=${e}`,albumDetails:e=>`${Lt}album?id=${e}`,genreDetails:e=>`${Lt}genre?id=${e}`,playlistDetails:e=>`${Lt}playlist?id=${e}`,playlistList:`${Lt}playlist-list`,createPlaylist:`${Lt}playlist-create`,addToPlaylist:`${Lt}playlist-add`,favoriteList:`${Lt}favorite-list`,history:`${Lt}history`,streamList:`${Lt}stream-list`,storageList:`${Lt}storage-list`,networkList:`${Lt}network-list`,logfileList:`${Lt}logfile-list`,feedbackForm:`${Lt}feedback-form`,browseList:e=>`${Lt}browse-list?path=${e}`,appAsset:(e,t,s)=>{const i={};return e&&(i.id=e),t&&(i.width=t),s&&(i.preventTint=s),`${Lt}icon?${new URLSearchParams(i).toString()}`},artwork:(e,t,s,i)=>{const a={};return e&&(a.artwork=e),t&&(a.id=t),s&&(a.type=s),i&&(a.randomizer=i),`${Lt}artwork?${new URLSearchParams(a).toString()}`},prepareDownload:(e,t)=>{const s={};return e&&(s.id=e),t&&(s.type=t),`${Lt}prepare-download?${new URLSearchParams(s).toString()}`},search:e=>`${Lt}search?search=${e}`,download:e=>`${Lt}download?file=${e}`,favorite:(e,t,s)=>{const i={};return e&&(i.id=e),t&&(i.type=t),i.favorite=s,`${Lt}favorite?${new URLSearchParams(i).toString()}`},play:(e,t,s,i)=>{const a={};return e.id&&(a.id=e.id),e.path&&(a.path=e.path),s&&(a.append=s),i&&(a.audio=i),t&&(a.type=t),`${Lt}play?${new URLSearchParams(a).toString()}`},resume:(e,t)=>{const s={};return s.resume=e,s.applyPlaylist=t,`${Lt}resume?${new URLSearchParams(s).toString()}`},playAll:(e,t,s)=>{const i={};return e&&(i.type=e),t&&(i.id=t),""!=s&&(i.path=s),`${Lt}play-all?${new URLSearchParams(i).toString()}`},resumePlayback:e=>{const t={};return e&&(t.audio=e),`${Lt}resume-playback?${new URLSearchParams(t).toString()}`},downloadLog:`${Lt}download-logfile?file=`,playbackEvent:(e,t,s,i)=>{const a={};return e&&(a.message=e),(t||"0"==t)&&(a.id=t),s&&(a.floatValue=s),i&&(a.authTicket=i),`${Lt}playback-event?${new URLSearchParams(a).toString()}`},longPolling:`${Lt}longpolling`};function Ft(e,t,s,o,n,r){const d=(0,a.up)("ImageButton");return(0,a.wg)(),(0,a.iD)("div",{class:(0,l.C_)(["vol-container",s.fullWidth?"full-width":""])},[(0,a.wy)((0,a.Wm)(d,{type:"volume",id:"volume_icon",onClick:t[0]||(t[0]=e=>r.mute())},null,512),[[i.F8,0!=this.playerStore.volume]]),(0,a.wy)((0,a.Wm)(d,{type:"volume_off",id:"volume_icon",onClick:t[1]||(t[1]=e=>r.mute())},null,512),[[i.F8,0==this.playerStore.volume]]),(0,a._)("input",{type:"range",ref:"volume",min:"0",max:"100",step:"1",onChange:t[2]||(t[2]=e=>this.volumeChange(e)),class:(0,l.C_)(s.fullWidth?"full-width":""),onInput:t[3]||(t[3]=e=>this.volumeChange(e)),onTouchstart:t[4]||(t[4]=e=>this.volumeTouched=!0),onTouchend:t[5]||(t[5]=e=>this.volumeTouched=!1),onTouchcancel:t[6]||(t[6]=e=>this.volumeTouched=!1)},null,34)],2)}var Bt={props:{fullWidth:Boolean},components:{ImageButton:ot},data(){return{volumeTouched:!1,volumeTimeoutId:0,oldVolume:-1}},computed:{...(0,Qe.Kc)(At),...(0,Qe.rn)(At,["nowPlaying"])},methods:{changeVolumeIfNeeded(){this.updateVolumeBackground(),this.$refs.volume.matches(":hover")||this.volumeTouched||(this.$refs.volume.value!=this.nowPlaying.volume&&(this.$refs.volume.value=this.nowPlaying.volume),this.updateVolumeBackground())},mute(){0==this.$refs.volume.value?-1==this.oldVolume?(this.$root.sendMessage("set-volume",this.$refs.volume.max/2),this.$refs.volume.value=this.$refs.volume.max/2):(this.$root.sendMessage("set-volume",this.oldVolume),this.$refs.volume.value=this.oldVolume):(this.oldVolume=this.$refs.volume.value,this.$root.sendMessage("set-volume",0),this.$refs.volume.value=0),this.updateVolumeBackground()},updateVolumeBackground(){let e=this.$refs.volume;const t=e.min,s=e.max,i=e.value;this.playerStore.volume=this.$refs.volume.value,e.style.backgroundSize=100*(i-t)/(s-t)+"% 100%"},volumeChange(e){clearTimeout(this.volumeTimeoutId),this.updateVolumeBackground(),this.volumeTimeoutId=setTimeout((()=>{this.updateVolumeBackground(),this.$root.sendMessage("set-volume",e.target.value),this.changeVolumeIfNeeded()}),"50"),this.playerStore.volume=e.target.value}},watch:{nowPlaying(){this.changeVolumeIfNeeded()}}};const Wt=(0,at.Z)(Bt,[["render",Ft]]);var Nt=Wt,Kt={components:{ImageButton:ot,VolumeBar:Nt},data(){return{playing:!1,loadedArtworkUrl:"",progressTouched:!1}},computed:{...(0,Qe.Kc)(At),...(0,Qe.rn)(At,["nowPlaying"])},methods:{changeProgressIfNeeded(){this.updateProgressBackground(),this.$refs.progress.matches(":hover")||this.volumeTouched||(this.$refs.progress.value!=this.nowPlaying.progress&&(this.$refs.progress.value=this.nowPlaying.progress),this.updateProgressBackground())},updateProgressBackground(){let e=this.$refs.progress;const t=e.min,s=e.max,i=e.value;e.style.backgroundSize=100*(i-t)/(s-t)+"% 100%"},play(){this.$root.sendMessage("play"),this.$log.log("Sending play")},pause(){this.$root.sendMessage("pause"),this.$log.log("Sending pause")},previous(){this.$root.sendMessage("previous"),this.$log.log("Sending previous")},next(){this.$root.sendMessage("next"),this.$log.log("Sending next")},shuffle(){this.nowPlaying.shuffle=!this.nowPlaying.shuffle,this.$root.sendMessage("shuffle"),this.$log.log("Sending shuffle")},repeat(){let e=this.nowPlaying.repeat+1;e>2&&(e=0),this.nowPlaying.repeat=e,this.$root.sendMessage("repeat"),this.$log.log("Sending repeat")},previous10(){this.$root.sendMessage("previous10"),this.$log.log("Sending previous10")},next10(){this.$root.sendMessage("next10"),this.$log.log("Sending next10")},progressChange(e){this.updateProgressBackground(),this.$root.sendMessage("set-progress",e.target.value),this.changeProgressIfNeeded()},seek(e){this.updateProgressBackground(),this.$root.sendMessage("set-progress",e),this.changeProgressIfNeeded()},togglePlayQueue(){this.playerStore.playqueueShowing=!this.playerStore.playqueueShowing},toggleMediaInfo(){this.playerStore.mediaInfoShowing=!this.playerStore.mediaInfoShowing},showResponsivePlayer(){this.playerStore.playqueueShowing=!this.playerStore.playqueueShowing,this.playerStore.responsivePlayerShowing=!this.responsivePlayerShowing},getBookmarkLeft(e){return`left: calc(${e.time/this.playerStore.nowPlaying.duration*100}% - 28px)`}},watch:{nowPlaying(){this.changeProgressIfNeeded(),this.loadedArtworkUrl!=this.nowPlaying.uri&&(this.loadedArtworkUrl=this.nowPlaying.uri,this.$refs.playerArtwork.src=Ot.artwork(null,null,null,Date.now()))}}};const Ht=(0,at.Z)(Kt,[["render",Et]]);var Yt=Ht;const Vt={id:"media_info_large"},Gt={class:"d-flex"},qt=(0,a._)("div",{class:"flex1"}," ",-1),Ut={class:"media-info-items"},jt={class:"d-flex media-info-item volume-bar-container"},zt={class:"media-info-text flex1"},Qt={key:0,class:"media-info-text"},Zt={class:"btn btn-primary"},Jt={key:0,class:"card mt-2",ref:"sleepForm"},Xt={class:"card-body"},es={class:"m-2"},ts={class:"d-flex gap-2 m-2 align-items-center"},ss={class:"dropdown media-info-text"},is={class:"btn btn-primary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},as={class:"dropdown-menu scrollable-menu"},ls=["onClick"],os={class:"dropdown media-info-text"},ns={class:"btn btn-primary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},rs={class:"dropdown-menu scrollable-menu"},ds=["onClick"],cs={class:"form-check m-2"},us=["checked"],ps={class:"form-check-label",for:"wait_current_media"},ms={class:"form-check m-2"},gs=["checked"],hs={class:"form-check-label",for:"reset_on_interaction"},ys={class:"d-flex media-info-item"},ws={class:"media-info-text flex1"},fs={class:"dropdown media-info-text"},bs={class:"btn btn-primary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},vs={class:"dropdown-menu"},_s=["onClick"],ks={class:"d-flex"},Ss={class:"media-info-title text-primary fw-semibold flex1"},$s=["onClick"],Ds={key:1,class:"media-info-text flex1 truncate"},Ts=["onSubmit"],Es=["data-key"],As=["onClick"],Cs={key:0},xs={class:"media-info-title text-primary fw-semibold"},Is=["onClick"],Ps={class:"media-info-text flex1 truncate"};function Ls(e,t,s,o,n,r){const d=(0,a.up)("ImageButton"),c=(0,a.up)("VolumeBar"),u=(0,a.up)("EmptyView"),p=(0,a.Q2)("t");return(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",Vt,[(0,a._)("div",Gt,[qt,(0,a.Wm)(d,{type:"close",class:"small",onClick:t[0]||(t[0]=(0,i.iM)((e=>r.hide()),["stop"]))})]),(0,a._)("div",Ut,[(0,a._)("div",jt,[(0,a.Wm)(c,{fullWidth:"true"})]),(0,a._)("div",{class:"d-flex media-info-item",onClick:t[1]||(t[1]=(0,i.iM)((e=>r.startEditingTimer()),["stop"]))},[(0,a.Wm)(d,{type:"sleep_timer"}),(0,a.wy)((0,a._)("p",zt,null,512),[[p,"SLEEP_TIMER"]]),(0,a.Wm)(i.uT,{name:"fade"},{default:(0,a.w5)((()=>[n.isEditingTimer?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",Qt,[(0,a._)("p",Zt,(0,l.zw)(r.getSleepTimer()),1)]))])),_:1})]),(0,a.Wm)(i.uT,{name:"expand",onAfterEnter:r.onAfterEnter},{default:(0,a.w5)((()=>[n.isEditingTimer?((0,a.wg)(),(0,a.iD)("div",Jt,[(0,a._)("div",Xt,[(0,a.wy)((0,a._)("p",es,null,512),[[p,"SLEEP_IN"]]),(0,a._)("div",ts,[(0,a._)("div",ss,[(0,a._)("button",is,(0,l.zw)(this.formatNumber(this.timerHours)),1),(0,a._)("ul",as,[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(24,(e=>(0,a._)("li",{key:e},[(0,a._)("a",{class:"dropdown-item",onClick:t=>n.timerHours=e-1},(0,l.zw)(e-1),9,ls)]))),64))])]),(0,a.wy)((0,a._)("span",null,null,512),[[p,"HOURS"]]),(0,a._)("div",os,[(0,a._)("button",ns,(0,l.zw)(this.formatNumber(this.timerMinutes)),1),(0,a._)("ul",rs,[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(60,(e=>(0,a._)("li",{key:e},[(0,a._)("a",{class:"dropdown-item",onClick:t=>n.timerMinutes=e-1},(0,l.zw)(e-1),9,ds)]))),64))])]),(0,a.wy)((0,a._)("span",null,null,512),[[p,"MINUTES"]])]),(0,a._)("div",cs,[(0,a._)("input",{class:"form-check-input",type:"checkbox",ref:"waitCurrentMedia",checked:n.waitForMediaEnd,id:"wait_current_media"},null,8,us),(0,a.wy)((0,a._)("label",ps,null,512),[[p,"WAIT_CURRENT_MEDIA"]])]),(0,a._)("div",ms,[(0,a._)("input",{class:"form-check-input",type:"checkbox",ref:"resetOnInteraction",checked:n.resetOnInteraction,value:"",id:"reset_on_interaction"},null,8,gs),(0,a.wy)((0,a._)("label",hs,null,512),[[p,"RESET_ON_INTERACTION"]])]),(0,a.wy)((0,a._)("button",{type:"button",class:"btn btn-primary m-2",onClick:t[2]||(t[2]=(0,i.iM)((e=>n.isEditingTimer=!1),["stop"]))},null,512),[[p,"CANCEL"]]),(0,a.wy)((0,a._)("button",{type:"button",class:"btn btn-primary m-2",onClick:t[3]||(t[3]=(0,i.iM)((e=>r.setTimer()),["stop"]))},null,512),[[p,"OK"]])])],512)):(0,a.kq)("",!0)])),_:1},8,["onAfterEnter"]),(0,a._)("div",ys,[(0,a.Wm)(d,{type:"speed"}),(0,a.wy)((0,a._)("p",ws,null,512),[[p,"PLAYBACK_SPEED"]]),(0,a._)("div",fs,[(0,a._)("button",bs,(0,l.zw)(this.playerStore.nowPlaying.speed)+"x ",1),(0,a._)("ul",vs,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)([.25,.5,.75,1,1.25,1.5,2,4],(e=>((0,a.wg)(),(0,a.iD)("li",{key:e},[(0,a._)("a",{class:"dropdown-item",onClick:t=>r.changeSpeed(e)},(0,l.zw)(e)+"x",9,_s)])))),128))])])]),(0,a._)("div",null,[(0,a._)("div",ks,[(0,a.wy)((0,a._)("p",Ss,null,512),[[p,"BOOKMARKS"]]),(0,a.Wm)(d,{type:"add",onClick:t[4]||(t[4]=e=>r.addBookmark())})]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.playerStore.nowPlaying.bookmarks,((e,s)=>((0,a.wg)(),(0,a.iD)("div",{key:e.time,class:"d-flex media-info-item",onClick:t=>r.seek(e.time)},[r.isNotRenaming(e)?((0,a.wg)(),(0,a.j4)(d,{key:0,type:"bookmark"})):(0,a.kq)("",!0),r.isNotRenaming(e)?((0,a.wg)(),(0,a.iD)("p",Ds,(0,l.zw)(e.title),1)):((0,a.wg)(),(0,a.iD)("form",{key:2,class:"flex1 d-flex gap-2",onSubmit:(0,i.iM)((t=>r.renameBookmark(e)),["prevent"])},[(0,a._)("input",{class:"form-control form-control-sm flex1",type:"text","data-key":e.time,"aria-label":".form-control-sm"},null,8,Es),(0,a.wy)((0,a._)("button",{type:"button",class:"btn btn-primary",onClick:t[5]||(t[5]=(0,i.iM)((e=>n.renamingBookmark=void 0),["stop"]))},null,512),[[p,"CANCEL"]]),(0,a.wy)((0,a._)("button",{type:"button",class:"btn btn-primary",onClick:(0,i.iM)((t=>r.renameBookmark(e)),["stop"])},null,8,As),[[p,"OK"]])],40,Ts)),r.isNotRenaming(e)?((0,a.wg)(),(0,a.j4)(d,{key:3,type:"edit",onClick:(0,i.iM)((t=>r.setRenamingBookmark(e,s)),["stop"])},null,8,["onClick"])):(0,a.kq)("",!0),r.isNotRenaming(e)?((0,a.wg)(),(0,a.j4)(d,{key:4,type:"delete",onClick:(0,i.iM)((t=>r.deleteBookmark(e.time)),["stop"])},null,8,["onClick"])):(0,a.kq)("",!0)],8,$s)))),128)),"undefined"==typeof this.playerStore.nowPlaying.bookmarks||0==this.playerStore.nowPlaying.bookmarks.length?((0,a.wg)(),(0,a.j4)(u,{key:0,message:this.$t("NO_BOOKMARK")},null,8,["message"])):(0,a.kq)("",!0)]),"undefined"!==typeof this.playerStore.nowPlaying.chapters&&this.playerStore.nowPlaying.chapters.length>0?((0,a.wg)(),(0,a.iD)("div",Cs,[(0,a.wy)((0,a._)("p",xs,null,512),[[p,"CHAPTERS"]]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.playerStore.nowPlaying.chapters,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:e.time,class:"d-flex media-info-item",onClick:e=>r.navigateChapter(t)},[(0,a.Wm)(d,{type:"chapter"}),(0,a._)("p",Ps,(0,l.zw)(e.title),1)],8,Is)))),128))])):(0,a.kq)("",!0)])],512)),[[i.F8,this.playerStore.mediaInfoShowing&&this.playerStore.playing]])}const Ms={class:"all-center container"},Rs={class:"error-container all-center card"},Os=["src"];function Fs(e,t,s,i,o,n){return(0,a.wg)(),(0,a.iD)("div",Ms,[(0,a._)("div",Rs,[(0,a._)("img",{src:e.$getAppAsset(e.$getIcons().emptyIcon,64,!0)},null,8,Os),(0,a._)("p",null,(0,l.zw)(s.message),1)])])}var Bs={props:{message:String}};const Ws=(0,at.Z)(Bs,[["render",Fs]]);var Ns=Ws,Ks={components:{ImageButton:ot,EmptyView:Ns,VolumeBar:Nt},data(){return{renamingBookmark:void 0,isEditingTimer:!1,timerEditingValue:0,timerHours:0,timerMinutes:0,waitForMediaEnd:!1,resetOnInteraction:!1}},updated:function(){if(this.renamingBookmark&&!this.renamingBookmark.focused){this.renamingBookmark.focused=!0;const e=document.querySelector(`input[data-key='${this.renamingBookmark.time}']`);e.value=this.renamingBookmark.title,e.focus(),e.select()}},computed:{...(0,Qe.Kc)(At)},methods:{hide(){this.playerStore.mediaInfoShowing=!1,this.renamingBookmark=void 0,this.isEditingTimer=!1},navigateChapter(e){this.$root.sendMessage("play-chapter",e)},changeSpeed(e){this.$root.sendMessage("speed",null,e)},seek(e){this.$root.sendMessage("set-progress",e)},addBookmark(){this.$root.sendMessage("add-bookmark",null,null,this.playerStore.nowPlaying.progress)},deleteBookmark(e){this.$root.sendMessage("delete-bookmark",null,null,e)},isNotRenaming(e){return"undefined"==typeof this.renamingBookmark||this.renamingBookmark.time!=e.time},setRenamingBookmark(e){this.renamingBookmark=e},renameBookmark(e){const t=document.querySelector(`input[data-key='${e.time}']`);this.$root.sendMessage("rename-bookmark",null,null,e.time,t.value),this.renamingBookmark=void 0},getSleepTimer(){let e=new Date(this.playerStore.nowPlaying.sleepTimer);var t=new Date;return e<t?this.$t("NOT_SET"):e.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})},formatNumber(e){return e<10?`0${e}`:`${e}`},startEditingTimer(){this.isEditingTimer=!0;let e=new Date(this.playerStore.nowPlaying.sleepTimer);var t=new Date;if(e<t)return this.timerHours=0,void(this.timerMinutes=0);var s=e-t,i=Math.floor(s%864e5/36e5),a=Math.round(s%864e5%36e5/6e4);60==a&&(a=0,i+=1),this.timerHours=i,this.timerMinutes=a,this.waitForMediaEnd=this.playerStore.nowPlaying.waitForMediaEnd,this.resetOnInteraction=this.playerStore.nowPlaying.resetOnInteraction},setTimer(){var e=36e5*this.timerHours+6e4*this.timerMinutes;this.$root.sendMessage("sleep-timer",null,null,e,null),this.$root.sendMessage("sleep-timer-wait",null,null,null,`${this.$refs.waitCurrentMedia.checked}`),this.$root.sendMessage("sleep-timer-reset",null,null,null,`${this.$refs.resetOnInteraction.checked}`),this.isEditingTimer=!1},onAfterEnter(){var e=document.querySelector(":root");e.style.setProperty("--timer-form-height",`${this.$refs.sleepForm.offsetHeight}px`)}}};const Hs=(0,at.Z)(Ks,[["render",Ls]]);var Ys=Hs;const Vs={id:"play_queue"},Gs={class:"d-flex border-bottom play-queue-toolbar align-items-center"},qs=(0,a._)("div",{class:"flex1"}," ",-1),Us={class:"play-queue-items"};function js(e,t,s,o,n,r){const d=(0,a.up)("ImageButton"),c=(0,a.up)("PlayQueueItem");return(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",Vs,[(0,a._)("div",Gs,[qs,(0,a.wy)((0,a.Wm)(d,{type:"remote",class:"small",selected:this.appStore.showRemote,onClick:t[0]||(t[0]=(0,i.iM)((e=>this.appStore.showRemote=!this.appStore.showRemote),["stop"]))},null,8,["selected"]),[[i.F8,this.playerStore.nowPlaying.isVideoPlaying]]),(0,a.Wm)(d,{type:"edit",class:(0,l.C_)(["small",this.playerStore.playQueueEdit?"active":""]),onClick:t[1]||(t[1]=(0,i.iM)((e=>this.playerStore.togglePlayQueueEdit()),["stop"]))},null,8,["class"]),(0,a.Wm)(d,{type:"close",class:"small",onClick:t[2]||(t[2]=(0,i.iM)((e=>r.hide()),["stop"]))})]),(0,a._)("div",Us,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.playerStore.playqueueData.medias,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:e.id,class:"play-queue-item"},[(0,a.Wm)(c,{mediaIndex:t,media:e},null,8,["mediaIndex","media"])])))),128))])],512)),[[i.F8,this.playerStore.playqueueShowing]])}const zs={class:"media-artwork-container"},Qs={class:"playing"},Zs={class:"media-artwork"},Js={class:"media-text"},Xs={class:"h6 queue-title text-truncate"},ei={class:"queue-subtitle text-truncate"};function ti(e,t,s,o,n,r){const d=(0,a.up)("ImageButton"),c=(0,a.Q2)("lazy");return(0,a.wg)(),(0,a.iD)("div",{class:"media-info",onClick:t[3]||(t[3]=e=>r.play(s.mediaIndex))},[(0,a._)("div",zs,[(0,a.wy)((0,a._)("div",Qs,[(0,a._)("span",{class:(0,l.C_)(["playing-bar playing-bar1",this.playerStore.nowPlaying.playing?"":"paused"])},null,2),(0,a._)("span",{class:(0,l.C_)(["playing-bar playing-bar2",this.playerStore.nowPlaying.playing?"":"paused"])},null,2),(0,a._)("span",{class:(0,l.C_)(["playing-bar playing-bar3",this.playerStore.nowPlaying.playing?"":"paused"])},null,2)],512),[[i.F8,s.media.playing]]),(0,a.wy)((0,a._)("img",Zs,null,512),[[c,e.$getImageUrl(s.media,"video")]])]),(0,a._)("div",Js,[(0,a._)("p",Xs,(0,l.zw)(s.media.title),1),(0,a._)("p",ei,(0,l.zw)(r.getItemSubtitle(s.media)),1)]),(0,a.wy)((0,a.Wm)(d,{type:"expand_more",onClick:t[0]||(t[0]=(0,i.iM)((e=>r.moveMediaBottom(s.mediaIndex)),["stop"]))},null,512),[[i.F8,this.playerStore.playQueueEdit]]),(0,a.wy)((0,a.Wm)(d,{type:"expand_less",onClick:t[1]||(t[1]=(0,i.iM)((e=>r.moveMediaTop(s.mediaIndex)),["stop"]))},null,512),[[i.F8,this.playerStore.playQueueEdit]]),(0,a.wy)((0,a.Wm)(d,{type:"playlist_remove",onClick:t[2]||(t[2]=(0,i.iM)((e=>r.removeItem(s.mediaIndex)),["stop"]))},null,512),[[i.F8,this.playerStore.playQueueEdit]])])}var si={components:{ImageButton:ot},props:{media:Object,mediaIndex:Number},computed:{...(0,Qe.Kc)(At)},mounted:function(){},methods:{removeItem(e){this.$root.sendMessage("delete-media",e)},play(e){this.$root.sendMessage("play-media",e)},moveMediaBottom(e){this.$root.sendMessage("move-media-bottom",e)},moveMediaTop(e){this.$root.sendMessage("move-media-top",e)},getItemSubtitle(e){return 0===e.artist.length?this.$readableDuration(e.duration):`${e.artist} · ${this.$readableDuration(e.duration)}`}}};const ii=(0,at.Z)(si,[["render",ti]]);var ai=ii,li={components:{PlayQueueItem:ai,ImageButton:ot},computed:{...(0,Qe.Kc)(Xe),...(0,Qe.Kc)(At)},methods:{hide(){this.playerStore.playqueueShowing=!1,this.playerStore.responsivePlayerShowing=!1}}};const oi=(0,at.Z)(li,[["render",js]]);var ni=oi;const ri={key:0},di={key:0},ci={class:"modal fade",id:"waitingConfirmation",ref:"waitingConfirmation","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"waitingConfirmationLabel","aria-hidden":"true"},ui={class:"modal-dialog"},pi={class:"modal-content"},mi={class:"modal-header"},gi={class:"modal-body"},hi={class:"form-check mt-2"},yi={class:"form-check-input",id:"applyPlaylist",ref:"applyPlaylist",type:"checkbox",value:""},wi={for:"applyPlaylist",class:"form-check-label"},fi={class:"modal-footer"};function bi(e,t,s,o,n,r){const d=(0,a.Q2)("t");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",{class:(0,l.C_)(["alert app-alert alert-warning alert-dismissible fade d-inline-block",void 0!==this.appStore.warning&&"warning"==this.appStore.warning.type?"show":""]),role:"alert",ref:"warning"},[void 0!==this.appStore.warning?((0,a.wg)(),(0,a.iD)("p",ri,(0,l.zw)(this.appStore.warning.message),1)):(0,a.kq)("",!0),(0,a._)("button",{type:"button",onClick:t[0]||(t[0]=(0,i.iM)((e=>r.hideWarning()),["stop"])),class:"btn-close","aria-label":"Close"})],2),(0,a._)("div",{class:(0,l.C_)(["alert app-alert alert-success alert-dismissible fade d-inline-block",void 0!==this.appStore.warning&&"message"==this.appStore.warning.type?"show":""]),role:"alert",ref:"warning"},[void 0!==this.appStore.warning?((0,a.wg)(),(0,a.iD)("p",di,(0,l.zw)(this.appStore.warning.message),1)):(0,a.kq)("",!0),(0,a._)("button",{type:"button",onClick:t[1]||(t[1]=(0,i.iM)((e=>r.hideWarning()),["stop"])),class:"btn-close","aria-label":"Close"})],2),(0,a._)("div",ci,[(0,a._)("div",ui,[(0,a._)("div",pi,[(0,a._)("div",mi,[(0,a._)("h1",{class:"modal-title fs-5",id:"waitingConfirmationLabel",ref:"waitingConfirmationMedia"},(0,l.zw)(n.modalTitle),513)]),(0,a._)("div",gi,[(0,a.wy)((0,a._)("p",null,null,512),[[d,"CONFIRM_RESUME"]]),(0,a._)("div",hi,[(0,a._)("input",yi,null,512),(0,a.wy)((0,a._)("label",wi,null,512),[[d,"APPLY_PLAYQUEUE"]])])]),(0,a._)("div",fi,[(0,a.wy)((0,a._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[2]||(t[2]=(0,i.iM)((t=>e.$resume(!1,this.$refs.applyPlaylist.checked)),["stop"]))},null,512),[[d,"NO"]]),(0,a.wy)((0,a._)("button",{type:"button",class:"btn btn-primary",onClick:t[3]||(t[3]=(0,i.iM)((t=>e.$resume(!0,this.$refs.applyPlaylist.checked)),["stop"]))},null,512),[[d,"RESUME"]])])])])],512)],64)}var vi=s(2166),_i=s(7192),ki=s(9882);const Si=ki.Z.create(),$i=e=>{const t=Tu.currentRoute.value.name,s="LoginPage"==t||"LoginPageError"==t;try{if(401==e.response.status&&!s)return void Tu.push({name:"LoginPage"})}catch(i){401==e.response.status&&(s||Tu.push({name:"LoginPage"}))}return Promise.reject(e)},Di=e=>{try{return Promise.resolve(e)}catch(t){return Promise.resolve(e)}};Si.interceptors.response.use(Di,$i);const Ti=e=>Promise.reject(e),Ei=e=>e;Si.interceptors.request.use(Ei,Ti);var Ai=Si;const Ci={run(e){let t={time:(new Date).getTime(),level:e.level,data:e.argumentArray},s=JSON.parse(localStorage.getItem("logs"));Array.isArray(s)||(s=[]),s.push(t);while(s.length>250)s.shift();localStorage.setItem("logs",JSON.stringify(s))}};let xi="info";const Ii=(0,_i.hu)({enabled:!0,level:xi,callerInfo:!0,consoleEnabled:!1,beforeHooks:[_i.QR],afterHooks:[Ci]});var Pi=Ii;function Li(){var e=JSON.parse(localStorage.getItem("logs"));return Ai.post(Ot.sendLogs,e,{headers:{"Content-Type":"multipart/form-data"}})}var Mi={name:"App",components:{},data(){return{modal:null,modalTitle:""}},computed:{...(0,Qe.Kc)(Xe,At)},methods:{hideWarning(){this.appStore.warning=void 0}},mounted:function(){this.playerStore.$subscribe(((e,t)=>{t.waitingConfirmation&&(Object.hasOwn(this.playerStore.waitingConfirmation,"consumed")&&!this.playerStore.waitingConfirmation.consumed?(Pi.info(`Received resume confirmation: ${this.playerStore.waitingConfirmation}`),this.modal=new vi.u_(document.getElementById("waitingConfirmation"),{}),this.modalTitle=this.playerStore.waitingConfirmation.title,this.modal.show()):(this.modal&&this.modal.hide(),this.playerStore.waitingConfirmation=void 0))}))}};const Ri=(0,at.Z)(Mi,[["render",bi]]);var Oi=Ri;const Fi={key:0,class:"container"},Bi={class:"modal-dialog modal-dialog-centered",role:"document"},Wi={class:"modal-content"},Ni={class:"modal-header"},Ki={class:"modal-title",id:"streamModalTitle"},Hi={class:"modal-body"},Yi={class:"container"},Vi={class:"d-flex align-items-center justify-content-center"},Gi=["placeholder"];function qi(e,t,s,l,o,n){const r=(0,a.up)("ImageButton"),d=(0,a.Q2)("t");return this.appStore.showAddStream?((0,a.wg)(),(0,a.iD)("div",Fi,[(0,a._)("div",{class:"modal fade",id:"streamModal",ref:"streamModal",tabindex:"-1",role:"dialog","aria-labelledby":"streamModalTitle",onClose:t[2]||(t[2]=(...e)=>n.hidden&&n.hidden(...e)),"aria-hidden":"true"},[(0,a._)("div",Bi,[(0,a._)("div",Wi,[(0,a._)("div",Ni,[(0,a.wy)((0,a._)("h5",Ki,null,512),[[d,"NEW_STREAM"]])]),(0,a._)("div",Hi,[(0,a._)("div",Yi,[(0,a._)("div",Vi,[(0,a._)("input",{type:"text",id:"searchInput",class:"search-input",ref:"searchText",placeholder:e.$t("ENTER_STREAM"),onKeydown:t[0]||(t[0]=(0,i.D2)(((...t)=>e.onPressEnter&&e.onPressEnter(...t)),["enter"]))},null,40,Gi),(0,a.Wm)(r,{type:"send","data-bs-toggle":"tooltip","data-bs-placement":"bottom",onClick:t[1]||(t[1]=e=>n.play()),title:e.$t("SEND")},null,8,["title"])])])])])])],544)])):(0,a.kq)("",!0)}var Ui={name:"App",components:{ImageButton:ot},computed:{...(0,Qe.Kc)(Xe)},data(){return{modal:null}},methods:{play(){this.$play({path:this.$refs.searchText.value,id:-1},"stream",!1,!1),this.appStore.showAddStream=!1},hidden(){this.appStore.showAddStream=!1}},mounted:function(){this.appStore.$subscribe((()=>{this.appStore.showAddStream?(this.modal=new vi.u_(document.getElementById("streamModal"),{}),this.modal.show(),(0,a.Y3)((()=>{this.$refs.streamModal.addEventListener("hidden.bs.modal",(()=>{this.appStore.showAddStream=!1}))}))):this.modal&&this.modal.hide()}))}};const ji=(0,at.Z)(Ui,[["render",qi]]);var zi=ji;const Qi={id:"remote",ref:"remote"},Zi={id:"remote_header",ref:"remoteHeader",class:"d-flex align-items-center"},Ji={class:"flex1 m-3"},Xi={class:"d-pad-container"},ea={class:"d-flex align-items-center"},ta=(0,a._)("span",{class:"flex1"},null,-1),sa={class:"d-pad mt-2"},ia=(0,a._)("td",null,null,-1),aa=(0,a._)("td",null,null,-1),la=(0,a._)("td",null,null,-1),oa=(0,a._)("td",null,null,-1),na={class:"d-flex align-items-center mt-2"},ra=(0,a._)("span",{class:"flex1"},null,-1),da=(0,a._)("span",{class:"flex1"},null,-1);function ca(e,t,s,l,o,n){const r=(0,a.up)("ImageButton"),d=(0,a.Q2)("t");return(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",Qi,[(0,a._)("div",Zi,[(0,a.wy)((0,a._)("p",Ji,null,512),[[d,"VIDEO_PLAYER_REMOTE"]]),(0,a.Wm)(r,{type:"close",onClick:t[0]||(t[0]=e=>this.appStore.showRemote=!1)})],512),(0,a._)("div",Xi,[(0,a._)("div",ea,[(0,a.Wm)(r,{type:"back",onClick:t[1]||(t[1]=e=>this.send("back"))}),ta,(0,a.Wm)(r,{type:"keyboard",class:"desktop-only",selected:this.keyboardActive,"data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:e.$t("REMOTE_KEYBOARD_NAVIGATION"),onClick:t[2]||(t[2]=e=>this.keyboardActive=!this.keyboardActive)},null,8,["selected","title"])]),(0,a._)("div",sa,[(0,a._)("table",null,[(0,a._)("tbody",null,[(0,a._)("tr",null,[ia,(0,a._)("td",null,[(0,a.Wm)(r,{type:"up",onClick:t[3]||(t[3]=e=>this.send("up"))})]),aa]),(0,a._)("tr",null,[(0,a._)("td",null,[(0,a.Wm)(r,{type:"left",onClick:t[4]||(t[4]=e=>this.send("left"))})]),(0,a._)("td",null,[(0,a.Wm)(r,{type:"center",onClick:t[5]||(t[5]=e=>this.send("center"))})]),(0,a._)("td",null,[(0,a.Wm)(r,{type:"right",onClick:t[6]||(t[6]=e=>this.send("right"))})])]),(0,a._)("tr",null,[la,(0,a._)("td",null,[(0,a.Wm)(r,{type:"down",onClick:t[7]||(t[7]=e=>this.send("down"))})]),oa])])])]),(0,a._)("div",na,[ra,(0,a.Wm)(r,{type:"skip_previous",onClick:t[8]||(t[8]=e=>this.send("skip-previous"))}),this.playerStore.nowPlaying.playing?((0,a.wg)(),(0,a.j4)(r,{key:0,type:"pause",onClick:t[9]||(t[9]=e=>this.send("pause"))})):(0,a.kq)("",!0),this.playerStore.nowPlaying.playing?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(r,{key:1,type:"play",onClick:t[10]||(t[10]=e=>this.send("play"))})),(0,a.Wm)(r,{type:"skip_next",onClick:t[11]||(t[11]=e=>this.send("skip-next"))}),da])])],512)),[[i.F8,this.show]])}var ua={name:"App",components:{ImageButton:ot},computed:{...(0,Qe.Kc)(At,Xe),...(0,Qe.rn)(At,["playing"]),...(0,Qe.rn)(Xe,["showRemote"])},data(){return{show:!1,remoteWidth:0,remoteHeight:0,keyboardActive:!1}},methods:{send(e){this.$root.sendMessage("remote",null,null,null,e)},dragElement(e){let t=this.$refs.remote;var s=0,i=0,a=0,l=0;function o(e){e=e||window.event,e.preventDefault(),a=e.clientX,l=e.clientY,document.onmouseup=r,document.onmousemove=n}function n(e){e=e||window.event,e.preventDefault(),s=a-e.clientX,i=l-e.clientY,a=e.clientX,l=e.clientY;let o=document.body,n=document.documentElement;var r=Math.max(o.scrollHeight,o.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight),d=Math.max(o.scrollWidth,o.offsetWidth,n.clientWidth,n.scrollWidth,n.offsetWidth);let c=t.offsetWidth+1,u=t.offsetHeight,p=Math.min(Math.max(t.offsetTop-i,0),r-u),m=Math.min(Math.max(t.offsetLeft-s,0),d-c);t.style.top=`${p}px`,t.style.left=`${m}px`,localStorage.setItem("remoteX",m),localStorage.setItem("remoteY",p)}function r(){document.onmouseup=null,document.onmousemove=null}e.onmousedown=o},getPageSize(){let e=document.body,t=document.documentElement;var s=Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.offsetHeight),i=Math.max(e.scrollWidth,e.offsetWidth,t.clientWidth,t.scrollWidth,t.offsetWidth);return{width:i,height:s}},resizeHandler(){this.show&&this.constraintToBounds()},getConstraintBounds(e,t){let s=this.getPageSize(),i=this.remoteWidth+1,a=this.remoteHeight;if(i<1||a<1)return;let l=Math.min(Math.max(t,0),s.height-a),o=Math.min(Math.max(e,0),s.width-i);return{x:o,y:l}},constraintToBounds(){let e=this.$refs.remote,t=this.getConstraintBounds(this.$refs.remote.offsetLeft,this.$refs.remote.offsetTop);e.style.top=`${t.y}px`,e.style.left=`${t.x}px`}},mounted(){this.dragElement(this.$refs.remoteHeader)},watch:{playing(){this.show=this.playerStore.playing&&this.appStore.showRemote},showRemote(){this.show=this.playerStore.playing&&this.appStore.showRemote},show(){this.show&&(0,a.Y3)((()=>{0==this.remoteWidth&&(this.remoteWidth=this.$refs.remote.offsetWidth),0==this.remoteHeight&&(this.remoteHeight=this.$refs.remote.offsetHeight);let e=localStorage.getItem("remoteY"),t=localStorage.getItem("remoteX"),s=this.getConstraintBounds(t,e);this.$refs.remote.style.top=`${s.y}px`,this.$refs.remote.style.left=`${s.x}px`}))}},created(){window.addEventListener("resize",this.resizeHandler),document.addEventListener("keyup",(e=>{this.keyboardActive&&("ArrowUp"===e.code&&this.send("up"),"ArrowDown"===e.code&&this.send("down"),"ArrowLeft"===e.code&&this.send("left"),"ArrowRight"===e.code&&this.send("right"),"Enter"!==e.code&&"NumpadEnter"!==e.code||this.send("center"),"Escape"===e.code&&this.send("back"))}))},unmounted(){window.removeEventListener("resize",this.resizeHandler)}};const pa=(0,at.Z)(ua,[["render",ca]]);var ma=pa;const ga={class:"drop-files-content"},ha=["src"],ya={class:"uploads"},wa={class:"uploads-header d-flex align-items-center"},fa={key:0,class:"flex1 uploads-title"},ba={key:1,class:"flex1 uploads-title"},va={class:"uploads-table table-responsive"},_a={class:"table"},ka={class:""},Sa={class:"",role:"columnheader",scope:"col"},$a=(0,a._)("th",{class:"status-header",role:"columnheader",scope:"col"},null,-1),Da={class:"align-middle"},Ta=["title"],Ea={key:0,class:"progress",role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"},Aa={class:"align-middle text-end status-cell"},Ca={key:0},xa={key:1},Ia={class:"spinner-border text-primary align-middle",role:"status"},Pa={class:"visually-hidden"},La=["src"],Ma={key:3},Ra=["src"];function Oa(e,t,s,o,n,r){const d=(0,a.up)("ImageButton"),c=(0,a.Q2)("t"),u=(0,a.Q2)("tooltip");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",{class:(0,l.C_)(["drop-files",this.dragging?"active":""]),ref:"dropFiles",onDragenter:t[0]||(t[0]=(0,i.iM)((e=>r.setDragging(!0)),["prevent"])),onDragover:t[1]||(t[1]=(0,i.iM)((e=>r.setDragging(!0)),["prevent"])),onDragleave:t[2]||(t[2]=(0,i.iM)((e=>r.setDragging(!1)),["prevent"])),onDrop:t[3]||(t[3]=(0,i.iM)(((...e)=>r.onDrop&&r.onDrop(...e)),["prevent"]))},[(0,a._)("div",ga,[(0,a._)("img",{class:"image-button-image image-button",src:"./icons/file_upload.svg",width:"82"},null,8,ha),(0,a.wy)((0,a._)("p",null,null,512),[[c,"DROP_FILES_TIP"]])])],34),(0,a._)("input",{type:"file",id:"file_upload",multiple:"true",style:{display:"none"},onChange:t[4]||(t[4]=(...e)=>r.filesSelected&&r.filesSelected(...e)),ref:"inputFile"},null,544),(0,a.wy)((0,a._)("div",ya,[(0,a._)("div",wa,[0==this.uploadStore.uploadRemaining()?(0,a.wy)(((0,a.wg)(),(0,a.iD)("h6",fa,null,512)),[[c,"SEND_FILES"]]):((0,a.wg)(),(0,a.iD)("h6",ba,(0,l.zw)(e.$t("UPLOAD_REMAINING",{msg:this.uploadStore.uploadRemaining()})),1)),(0,a.Wm)(d,{type:"close",onClick:t[5]||(t[5]=e=>this.uploadStore.clearUploads())})]),(0,a._)("div",va,[(0,a._)("table",_a,[(0,a._)("thead",null,[(0,a._)("tr",ka,[(0,a.wy)((0,a._)("th",Sa,null,512),[[c,"FILE"]]),$a])]),(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.uploadStore.uploadingFiles,((t,s)=>((0,a.wg)(),(0,a.iD)("tr",{key:s},[(0,a._)("td",Da,[(0,a.wy)(((0,a.wg)(),(0,a.iD)("p",{class:"text-truncate","data-bs-toggle":"tooltip","data-bs-placement":"left",title:t.file.name},[(0,a.Uk)((0,l.zw)(t.file.name),1)],8,Ta)),[[u]]),"uploading"==t.status?((0,a.wg)(),(0,a.iD)("div",Ea,[(0,a._)("div",{class:"progress-bar bg-primary",style:(0,l.j5)({width:r.getProgress(t)})},null,4)])):(0,a.kq)("",!0)]),(0,a._)("td",Aa,["waiting"==t.status?((0,a.wg)(),(0,a.iD)("div",Ca,[(0,a.wy)((0,a.Wm)(d,{type:"file_upload","data-bs-toggle":"tooltip","data-bs-placement":"top",title:e.$t("SEND"),class:"small",onClick:e=>this.$upload(t.file)},null,8,["title","onClick"]),[[u]]),(0,a.wy)((0,a.Wm)(d,{type:"delete","data-bs-toggle":"tooltip","data-bs-placement":"top",title:e.$t("CANCEL"),class:"small",onClick:e=>this.deleteUpload(t.file)},null,8,["title","onClick"]),[[u]])])):"uploading"==t.status?((0,a.wg)(),(0,a.iD)("div",xa,[(0,a._)("div",Ia,[(0,a.wy)((0,a._)("span",Pa,null,512),[[c,"LOADING"]])]),(0,a.Wm)(d,{type:"cancel",class:"small",onClick:e=>this.$cancelUploadFile(t.file)},null,8,["onClick"])])):"error"==t.status?((0,a.wg)(),(0,a.iD)("img",{key:2,class:"image-button-image",src:"./icons/error.svg"},null,8,La)):((0,a.wg)(),(0,a.iD)("div",Ma,[(0,a._)("img",{class:"image-button-image",src:"./icons/success.svg"},null,8,Ra),(0,a.Wm)(d,{type:"close",class:"small",onClick:e=>this.deleteUpload(t.file)},null,8,["onClick"])]))])])))),128))])])]),(0,a.wy)((0,a._)("button",{type:"button",onClick:t[6]||(t[6]=(...e)=>r.uploadAll&&r.uploadAll(...e)),class:"btn btn-outline-primary upload-all"},null,512),[[c,"UPLOAD_ALL"]])],512),[[i.F8,this.uploadStore.uploadingFiles.length>0]])],64)}const Fa=(0,Qe.Q_)("upload",{state:()=>({uploadingFiles:[]}),getters:{},actions:{changeFileStatus(e,t){const s={file:e,status:t};var i=this.uploadingFiles.findIndex((t=>t.file.name==e.name));-1==i?this.uploadingFiles.push(s):this.uploadingFiles[i]=s},clearUploads(){this.uploadingFiles=[]},changeProgress(e,t){this.uploadingFiles.find((t=>t.file.name==e.name)).progress=t},uploadRemaining(){return this.uploadingFiles.filter((e=>"uploading"==e.status)).length},removeUpload(e){var t=this.uploadingFiles.findIndex((t=>t.file.name==e.name));this.uploadingFiles.splice(t,1)}}});var Ba={components:{ImageButton:ot},computed:{...(0,Qe.Kc)(Fa)},data(){return{dragging:!1,inActiveTimeout:null}},methods:{openFiles(){this.$refs.inputFile.click()},filesSelected(){const e=document.getElementById("file_upload");for(const t of e.files)this.uploadStore.changeFileStatus(t,"waiting")},uploadAll(){this.uploadStore.uploadingFiles.filter((e=>"waiting"==e.status)).forEach((e=>{this.$upload(e.file)}))},deleteUpload(e){this.uploadStore.removeUpload(e)},getProgress(e){return`${e.progress}%`},onDrop(e){this.dragging=!1;for(const t of e.dataTransfer.files)this.uploadStore.changeFileStatus(t,"waiting")},setDragging(e){e?(this.dragging=!0,clearTimeout(this.inActiveTimeout)):this.inActiveTimeout=setTimeout((()=>{this.dragging=!1}),50)}},mounted(){var e=!1;document.body.addEventListener("dragstart",function(){e=!0}.bind(this),!1),document.addEventListener("dragend",(function(){e&&(e=!1)}),!1),document.body.addEventListener("dragenter",function(t){e?this.$log.log("Same page drag. Give up"):(this.$log.log("Drag and drop event: "+t.type),this.setDragging(!0),t.preventDefault(),t.stopPropagation())}.bind(this),!1)}};const Wa=(0,at.Z)(Ba,[["render",Oa]]);var Na=Wa;const Ka={class:"playlists"},Ha={class:"playlists-header d-flex align-items-center"},Ya={class:"flex1 add-playlist-title"},Va={class:"playlists-content"},Ga={class:"p-2"},qa={key:0,class:"flex add-playlist-item border m-2 p-2 rounded-2"},Ua={class:"media-img-list flex1"},ja={class:"p-2"},za={class:"p-2"},Qa={class:"p-2 m-2 align-items-center border rounded-2"},Za={class:"d-flex",style:{"align-items":"center"}},Ja={key:1},Xa=["onClick"],el={class:"media-img-list"},tl={class:"flex1 p-2"},sl={class:"text-truncate"},il={class:"card-text text-truncate subtitle"},al=["src"],ll={key:2,class:"empty-view-container"};function ol(e,t,s,o,n,r){const d=(0,a.up)("ImageButton"),c=(0,a.up)("EmptyView"),u=(0,a.Q2)("t"),p=(0,a.Q2)("lazy");return(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",Ka,[(0,a._)("div",Ha,[(0,a.wy)((0,a._)("h6",Ya,null,512),[[u,"ADD_PLAYLIST"]]),(0,a.Wm)(d,{type:"close",onClick:t[0]||(t[0]=e=>this.addToPlaylistStore.media=null)})]),(0,a._)("div",Va,[(0,a.wy)((0,a._)("p",Ga,null,512),[[u,"ADDING"]]),this.addToPlaylistStore.media?((0,a.wg)(),(0,a.iD)("div",qa,[(0,a.wy)((0,a._)("img",Ua,null,512),[[p,e.$getImageUrl(this.addToPlaylistStore.media,this.addToPlaylistStore.mediaType)]]),(0,a._)("span",ja,(0,l.zw)(this.addToPlaylistStore.media.title),1)])):(0,a.kq)("",!0),(0,a.wy)((0,a._)("p",za,null,512),[[u,"TO"]]),(0,a._)("div",Qa,[(0,a.wy)((0,a._)("p",null,null,512),[[u,"NEW_PLAYLIST"]]),(0,a._)("div",Za,[(0,a._)("input",{type:"text",ref:"createPlaylistText",class:"form-control flex1","aria-describedby":"passwordHelpInline",onKeyup:t[1]||(t[1]=(0,i.D2)(((...e)=>r.createPlaylist&&r.createPlaylist(...e)),["enter"]))},null,544),(0,a.wy)((0,a._)("button",{type:"button",onClick:t[2]||(t[2]=(...e)=>r.createPlaylist&&r.createPlaylist(...e)),class:"btn btn-outline-primary upload-all"},null,512),[[u,"CREATE"]])])]),n.loaded&&0!==this.playlists.length?((0,a.wg)(),(0,a.iD)("div",Ja,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.playlists,(t=>((0,a.wg)(),(0,a.iD)("div",{key:t.id,class:(0,l.C_)(["add-playlist-item d-flex playlist-item border m-2 p-2 rounded-2",n.selectedPlaylists.includes(t)?"active":""]),onClick:e=>r.select(t)},[(0,a.wy)((0,a._)("img",el,null,512),[[p,e.$getImageUrl(t,"playlist")]]),(0,a._)("div",tl,[(0,a._)("p",sl,(0,l.zw)(t.title),1),(0,a._)("p",il,(0,l.zw)(t.artist),1)]),(0,a.wy)((0,a._)("img",{src:"./icons/checked.svg"},null,8,al),[[i.F8,n.selectedPlaylists.includes(t)]])],10,Xa)))),128))])):n.loaded?((0,a.wg)(),(0,a.iD)("div",ll,[(0,a.Wm)(c,{message:r.getEmptyText()},null,8,["message"])])):(0,a.kq)("",!0)]),(0,a.wy)((0,a._)("button",{type:"button",onClick:t[3]||(t[3]=(...e)=>r.addToPlaylist&&r.addToPlaylist(...e)),class:"btn btn-outline-primary upload-all"},null,512),[[u,"ADD"]])],512)),[[i.F8,this.addToPlaylistStore.media]])}const nl=(0,Qe.Q_)("addToPlaylist",{state:()=>({media:null}),getters:{},actions:{}});var rl={components:{ImageButton:ot,EmptyView:Ns},computed:{...(0,Qe.Kc)(Xe,nl)},data(){return{playlists:[],selectedPlaylists:[],loaded:!1,loading:!1,forbidden:!1}},methods:{fetchPlaylists(){let e=this;e.loading=!0,Ai.get(Ot.playlistList).catch((function(t){void 0!==t.response&&403==t.response.status&&(e.forbidden=!0)})).then((t=>{this.loaded=!0,t&&(e.forbidden=!1,this.playlists=t.data),e.loading=!1}))},select(e){this.selectedPlaylists.includes(e)?this.selectedPlaylists.splice(this.selectedPlaylists.indexOf(e),1):this.selectedPlaylists.push(e)},createPlaylist(){let e=this,t={name:this.$refs.createPlaylistText.value};Ai.post(Ot.createPlaylist,t,{headers:{"Content-Type":"multipart/form-data"}}).catch((function(t){void 0!==t.response&&403==t.response.status?(e.forbidden=!0,e.appStore.warning={type:"warning",message:e.$t("FORBIDDEN")}):t.response.data&&(e.appStore.warning={type:"warning",message:t.response.data})})).then((()=>{this.$refs.createPlaylistText.value="",this.fetchPlaylists()}))},addToPlaylist(){let e=this,t={mediaId:this.addToPlaylistStore.media.id,mediaType:this.addToPlaylistStore.media.mediaType,playlists:this.selectedPlaylists.map((e=>e.id))};Ai.post(Ot.addToPlaylist,t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).catch((function(t){void 0!==t.response&&403==t.response.status&&(e.forbidden=!0,e.appStore.warning={type:"warning",message:e.$t("FORBIDDEN")})})).then((()=>{this.addToPlaylistStore.media=null}))},getEmptyText(){return this.forbidden?this.$t("FORBIDDEN"):this.$t("NO_PLAYLIST")}},mounted:function(){this.addToPlaylistStore.$subscribe(((e,t)=>{console.log(`Something changed in the add to playlist store: ${JSON.stringify(t)}`),t.media&&this.fetchPlaylists()})),this.appStore.$subscribe(((e,t)=>{console.log(`Something changed in the app store: ${JSON.stringify(t)}`),t.needRefreshPlaylist&&(this.fetchPlaylists(),this.appStore.needRefreshPlaylist=!1)}))}};const dl=(0,at.Z)(rl,[["render",ol]]);var cl=dl,ul={name:"App",components:{AppHeader:dt,MediaInfo:Ys,MiniPlayer:Yt,PlayQueue:ni,Alert:Oi,AddStream:zi,Remote:ma,UploadDialog:Na,AddPlaylistDialog:cl},computed:{...(0,Qe.Kc)(At,Xe,et)},data(){return{retryDelay:500,retrying:!1,connection:null,queuedMessage:null}},methods:{sendMessage(e,t,s,i,a){if(this.$log.log(`Sending message : ${e} - ${t} - ${s} - ${i} - ${a}`),this.connection)this.connection.send(JSON.stringify({message:e,id:t,floatValue:s,longValue:i,stringValue:a,authTicket:this.appStore.wsTicket}));else{let i=this;Ai.get(Ot.playbackEvent(e,t,s)).catch((function(e){void 0!==e.response&&403==e.response.status&&(i.appStore.warning={type:"warning",message:i.$t("PLAYBACK_CONTROL_FORBIDDEN")})}))}},handleServerMessage(e){switch(0==this.playerStore.playing&&e.shouldShow&&(this.$log.info("Starting player ..."),this.playerStore.playing=!0),e.type){case"player-status":this.playerStore.playing=e.playing,e.playing||(this.playerStore.playqueueShowing=!1,this.playerStore.responsivePlayerShowing=!1);break;case"volume":this.playerStore.volume=e.volume;break;case"login-needed":e.dialogOpened?this.appStore.warning={type:"warning",message:this.$t("INVALID_LOGIN")}:this.appStore.warning=void 0;break;case"now-playing":this.playerStore.nowPlaying=e,this.playerStore.volume=e.volume;break;case"play-queue":this.playerStore.playqueueData=e;break;case"auth":this.askWSTicket(JSON.parse(e.initialMessage));break;case"playback-control-forbidden":this.appStore.warning={type:"warning",message:this.$t("PLAYBACK_CONTROL_FORBIDDEN")};break;case"error":this.appStore.warning={type:"warning",message:e.text};break;case"ml-refresh-needed":this.$log.info("ML refresh needed"),this.appStore.needRefresh=!0;break;case"browser-description":this.browserStore.descriptions.push(e);break;case"resume-confirmation":this.playerStore.waitingConfirmation={title:e.mediaTitle,consumed:e.consumed};break;case"network-shares":this.browserStore.networkShares=e.shares;break}},askWSTicket(e){let t=this,s=e;Ai.get(Ot.websocketAuthTicket).catch((function(){})).then((e=>{void 0!==e&&(t.appStore.wsTicket=e.data,this.connection?this.sendMessage(s.message,s.id,s.floatValue,s.longValue,s.stringValue):this.queuedMessage=s)}))},sendFiles(){this.$refs.uploadComponent.openFiles()},startWS(){let e=this;Ai.get(Ot.websocketAuthTicket).then((t=>{e.appStore.wsTicket=t.data,this.setupWS()})).catch((e=>{this.longPolling(),this.$log.log("An error occurred while getting the websocket auth ticket, Started Polling",e)}))},setupWS(){this.$log.log("Starting connection to WebSocket Server"),this.connection=new WebSocket(Ot.websocket,"player"),this.connection.onmessage=e=>{const t=JSON.parse(e.data);this.handleServerMessage(t)},this.connection.onopen=e=>{clearTimeout(this.retryId),this.retryDelay=500,this.retrying=!1,this.$log.log("Successfully connected to the echo websocket server. Event: ",e),this.appStore.socketOpened=!0,this.queuedMessage?(this.sendMessage(this.queuedMessage.message,this.queuedMessage.id,this.queuedMessage.floatValue,this.queuedMessage.longValue,this.queuedMessage.stringValue),this.queuedMessage=null):this.sendMessage("hello")},this.connection.onclose=()=>{this.$log.log("Socket closed"),this.appStore.socketOpened=!1,this.retrying||this.retry()},this.connection.onerror=()=>{this.$log.log("Socket on error"),this.appStore.socketOpened=!1}},retry(){this.retrying=!0,clearTimeout(this.retryId),this.retryDelay=this.retryDelay+500,this.retryDelay>1e4&&(this.retryDelay=1e4),this.setupWS(),this.retryId=setTimeout(this.retry,this.retryDelay),this.$log.log(`Will retry in ${this.retryDelay}ms`)},longPolling(){this.appStore.longPollingOpened=!0,Ai.get(Ot.longPolling).then((e=>{e.data.forEach((e=>{this.handleServerMessage(e)})),setTimeout((()=>this.longPolling()),Ot.pollingInterval)})).catch((e=>{this.$log.log("An error occurred during long polling:",e),setTimeout((()=>this.longPolling()),this.retryDelay)}))}},created:function(){console.log("App.vue onCreated"),window.addEventListener("resize",(()=>{let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)})),"https:"!==location.protocol?this.$router.push({name:"SslPage"}):this.startWS(),this.appStore.darkTheme?document.documentElement.setAttribute("data-bs-theme","dark"):document.documentElement.removeAttribute("data-bs-theme")},mounted:function(){this.appStore.$subscribe(((e,t)=>{t.darkTheme?document.documentElement.setAttribute("data-bs-theme","dark"):document.documentElement.removeAttribute("data-bs-theme")}))}};const pl=(0,at.Z)(ul,[["render",d]]);var ml=pl,gl=s(2483);const hl={key:0,class:"container"},yl={key:0,class:"row gx-3 gy-3 media-list"},wl={key:1,class:"row gx-3 gy-3 media-content"},fl={key:1,class:"empty-view-container"};function bl(e,t,s,i,l,o){const n=(0,a.up)("MediaItem"),r=(0,a.up)("EmptyView");return l.loaded&&0!==this.videos.length?((0,a.wg)(),(0,a.iD)("div",hl,[this.appStore.displayType[this.$route.name]?((0,a.wg)(),(0,a.iD)("div",yl,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.videos,(e=>((0,a.wg)(),(0,a.j4)(n,{key:e.id,isCard:!1,media:e,downloadable:"video"==o.getMediaType(e),mediaType:o.getMediaType(e)},null,8,["media","downloadable","mediaType"])))),128))])):((0,a.wg)(),(0,a.iD)("div",wl,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.videos,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-3 col-sm-4 col-6",key:e.id},[(0,a.Wm)(n,{isCard:!0,media:e,downloadable:"video"==o.getMediaType(e),mediaType:o.getMediaType(e)},null,8,["media","downloadable","mediaType"])])))),128))]))])):l.loaded?((0,a.wg)(),(0,a.iD)("div",fl,[(0,a.Wm)(r,{message:o.getEmptyText()},null,8,["message"])])):(0,a.kq)("",!0)}const vl={key:0,class:"card"},_l={key:0,class:"media-img-top"},kl={class:"media-overlay"},Sl=["src"],$l={key:2,class:"resolution"},Dl=["src"],Tl=["src"],El=["src"],Al={class:"card-progress-container"},Cl=(0,a._)("div",{class:"card-progress full"},null,-1),xl=["src","title"],Il={class:"d-flex align-items-end"},Pl={class:"card-body media-text flex1"},Ll=["title"],Ml={key:1,class:"d-flex clickable media-img-list-tr"},Rl={key:0,class:"media-img-list"},Ol={class:"media-overlay"},Fl=["src"],Bl={key:2,class:"resolution"},Wl=["src"],Nl=["src"],Kl=["src"],Hl={class:"card-progress-container"},Yl=(0,a._)("div",{class:"card-progress full"},null,-1),Vl=["title"];function Gl(e,t,s,o,n,r){const d=(0,a.up)("MediaItemMenu"),c=(0,a.Q2)("lazy"),u=(0,a.Q2)("tooltip");return s.isCard?((0,a.wg)(),(0,a.iD)("div",vl,[(0,a._)("div",{onClick:t[1]||(t[1]=(...e)=>r.manageClick&&r.manageClick(...e)),class:(0,l.C_)(["ratio clickable",r.mainImgClasses()])},["file"==this.mediaType?(0,a.wy)(((0,a.wg)(),(0,a.iD)("img",_l,null,512)),[[c,e.$getImageUrl(s.media,`${s.media.fileType}_big`)]]):(0,a.wy)(((0,a.wg)(),(0,a.iD)("img",{key:1,class:(0,l.C_)(["media-img-top","new-stream"==this.mediaType?"tint":""])},null,2)),[[c,e.$getImageUrl(s.media,`${this.mediaType}_big`)]]),(0,a.wy)((0,a._)("div",kl,[(0,a._)("img",{class:"overlay-play",src:r.isOpenable()?"./icons/open.svg":"./icons/play_circle_white.svg",width:"48"},null,8,Sl)],512),[[i.F8,!r.isBrowse()]]),"video"==s.mediaType&&""!=s.media.resolution?((0,a.wg)(),(0,a.iD)("span",$l,(0,l.zw)(s.media.resolution),1)):(0,a.kq)("",!0),(0,a.wy)((0,a._)("img",{class:"played",src:"./icons/played.svg"},null,8,Dl),[[i.F8,s.media.played&&"video"==s.mediaType&&!s.forceAudio]]),(0,a.wy)((0,a._)("img",{class:"forced-audio",src:"./icons/audiotrack.svg"},null,8,Tl),[[i.F8,s.forceAudio]]),(0,a.wy)((0,a._)("img",{class:"favorite",src:"./icons/favorite.svg"},null,8,El),[[i.F8,s.media.favorite]]),(0,a.wy)((0,a._)("div",Al,[Cl,(0,a._)("div",{class:"card-progress",style:(0,l.j5)(r.getProgressStyle())},null,4)],512),[[i.F8,s.media.progress>0]]),(0,a.wy)((0,a._)("div",{class:"item-play",onClick:t[0]||(t[0]=(0,i.iM)((t=>e.$play(s.media,this.mediaType,!1,!1)),["stop"]))},[(0,a._)("img",{class:"image-button-image",src:"./icons/play_item.svg",title:e.$t("PLAY")},null,8,xl)],512),[[i.F8,r.isPlayable()]])],2),(0,a._)("div",Il,[(0,a._)("div",Pl,[(0,a.wy)(((0,a.wg)(),(0,a.iD)("h6",{class:"text-truncate","data-bs-toggle":"tooltip","data-bs-placement":"top",title:s.media.title},[(0,a.Uk)((0,l.zw)(s.media.title),1)],8,Ll)),[[u]]),(0,a._)("p",{class:(0,l.C_)(["card-text text-truncate subtitle",this.getDescription()?"":"empty-desc"])},(0,l.zw)(r.getDescription()),3)]),r.shouldShowMenu()?((0,a.wg)(),(0,a.j4)(d,{key:0,media:s.media,downloadable:s.downloadable,mediaType:this.forceAudio?"track":this.mediaType},null,8,["media","downloadable","mediaType"])):(0,a.kq)("",!0)])])):((0,a.wg)(),(0,a.iD)("div",Ml,[(0,a._)("div",{onClick:t[2]||(t[2]=(...e)=>r.manageClick&&r.manageClick(...e)),class:(0,l.C_)(["ratio media-img-container",r.mainImgClasses()])},["file"==this.mediaType?(0,a.wy)(((0,a.wg)(),(0,a.iD)("img",Rl,null,512)),[[c,e.$getImageUrl(s.media,s.media.fileType)]]):(0,a.wy)(((0,a.wg)(),(0,a.iD)("img",{key:1,class:(0,l.C_)(["media-img-list","new-stream"==this.mediaType?"tint":""])},null,2)),[[c,e.$getImageUrl(s.media,this.mediaType)]]),(0,a.wy)((0,a._)("div",Ol,[(0,a._)("img",{class:"overlay-play",src:r.isOpenable()?"./icons/open.svg":"./icons/play_circle_white.svg",width:"32"},null,8,Fl)],512),[[i.F8,!r.isBrowse()]]),"video"==s.mediaType&&""!=s.media.resolution?((0,a.wg)(),(0,a.iD)("span",Bl,(0,l.zw)(s.media.resolution),1)):(0,a.kq)("",!0),(0,a.wy)((0,a._)("img",{class:"played",src:"./icons/played.svg"},null,8,Wl),[[i.F8,s.media.played&&"video"==s.mediaType&&!s.forceAudio]]),(0,a.wy)((0,a._)("img",{class:"forced-audio",src:"./icons/audiotrack.svg"},null,8,Nl),[[i.F8,s.forceAudio]]),(0,a.wy)((0,a._)("img",{class:"favorite",src:"./icons/favorite.svg"},null,8,Kl),[[i.F8,s.media.favorite]]),(0,a.wy)((0,a._)("div",Hl,[Yl,(0,a._)("div",{class:"card-progress",style:(0,l.j5)(r.getProgressStyle())},null,4)],512),[[i.F8,s.media.progress>0]])],2),(0,a._)("div",{onClick:t[3]||(t[3]=(...e)=>r.manageClick&&r.manageClick(...e)),class:"card-body media-text flex1"},[(0,a.wy)(((0,a.wg)(),(0,a.iD)("h6",{class:"card-title text-truncate","data-bs-toggle":"tooltip","data-bs-placement":"top",title:s.media.title},[(0,a.Uk)((0,l.zw)(s.media.title),1)],8,Vl)),[[u]]),(0,a._)("p",{class:(0,l.C_)(["card-text text-truncate subtitle",this.getDescription()?"":"empty-desc empty-desc-list"])},(0,l.zw)(r.getDescription()),3)]),r.shouldShowMenu()?((0,a.wg)(),(0,a.j4)(d,{key:0,media:s.media,downloadable:s.downloadable,mediaType:this.forceAudio?"track":this.mediaType},null,8,["media","downloadable","mediaType"])):(0,a.kq)("",!0)]))}const ql={class:"dropdown dropstart overlay-more-container"},Ul={class:"dropdown-menu media-more","aria-labelledby":"dropdownMenuButton1"},jl={key:0},zl=(0,a._)("hr",{class:"dropdown-divider"},null,-1),Ql=[zl],Zl={key:1},Jl={key:2},Xl={key:3},eo=(0,a._)("li",null,[(0,a._)("hr",{class:"dropdown-divider"})],-1);function to(e,t,s,l,o,n){const r=(0,a.up)("ImageButton"),d=(0,a.Q2)("t");return(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",ql,[(0,a.Wm)(r,{type:"more_vert",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"}),(0,a._)("ul",Ul,[(0,a._)("li",null,[(0,a.wy)((0,a._)("span",{onClick:t[0]||(t[0]=t=>e.$play(s.media,this.mediaType,!1,!1)),class:"dropdown-item"},null,512),[[d,"PLAY"]])]),(0,a._)("li",null,[(0,a.wy)((0,a._)("span",{onClick:t[1]||(t[1]=t=>e.$play(s.media,this.mediaType,!0,!1)),class:"dropdown-item"},null,512),[[d,"APPEND"]])]),(0,a._)("li",null,["video"==s.mediaType?(0,a.wy)(((0,a.wg)(),(0,a.iD)("span",{key:0,onClick:t[2]||(t[2]=t=>e.$play(s.media,this.mediaType,!1,!0)),class:"dropdown-item"},null,512)),[[d,"PLAY_AS_AUDIO"]]):(0,a.kq)("",!0)]),n.isFileOrFolder()?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("li",jl,Ql)),n.isFileOrFolder()||s.media.favorite?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("li",Zl,[(0,a.wy)((0,a._)("span",{onClick:t[3]||(t[3]=t=>e.$favorite(s.media,this.mediaType,!0)),class:"dropdown-item"},null,512),[[d,"ADD_FAVORITE"]])])),!n.isFileOrFolder()&&s.media.favorite?((0,a.wg)(),(0,a.iD)("li",Jl,[(0,a.wy)((0,a._)("span",{onClick:t[4]||(t[4]=t=>e.$favorite(s.media,this.mediaType,!1)),class:"dropdown-item"},null,512),[[d,"REMOVE_FAVORITE"]])])):(0,a.kq)("",!0),n.isFileOrFolder()||"playlist"==s.mediaType?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("li",Xl,[(0,a.wy)((0,a._)("span",{onClick:t[5]||(t[5]=e=>n.addToPlaylist(s.media,s.mediaType)),class:"dropdown-item"},null,512),[[d,"ADD_PLAYLIST"]])])),n.isFileOrFolder()?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)(a.HY,{key:4},[eo,(0,a._)("li",null,[(0,a.wy)((0,a._)("span",{onClick:t[6]||(t[6]=t=>e.$download(s.media,this.mediaType,this.downloadable)),class:"dropdown-item"},null,512),[[d,"DOWNLOAD"]])])],64))])],512)),[[i.F8,!this.hideOverflow]])}var so={computed:{...(0,Qe.Kc)(nl)},components:{ImageButton:ot},methods:{addToPlaylist(e,t){e.mediaType=t,this.addToPlaylistStore.mediaType=t,this.addToPlaylistStore.media=e},isFileOrFolder(){return"file"==this.mediaType||"folder"==this.mediaType}},props:{media:Object,downloadable:Boolean,mediaType:String,hideOverflow:{type:Boolean,default:!1}}};const io=(0,at.Z)(so,[["render",to]]);var ao=io,lo={computed:{...(0,Qe.Kc)(nl)},components:{MediaItemMenu:ao},methods:{mainImgClasses(){return this.mediaType.startsWith("video")?"ratio-16x9 video audio-img-container":this.isBrowse()||"file"==this.mediaType?"ratio-1x1":"ratio-1x1 audio-img-container"},getProgressStyle(){return this.mediaType.startsWith("video")&&this.media.progress>0&&this.media.duration>0?`width: ${100*this.media.progress/this.media.duration}%`:""},isBrowse(){return"folder"==this.mediaType||"network"==this.mediaType||"stream"==this.mediaType||"new-stream"==this.mediaType},isPlayable(){return"album"==this.mediaType||"artist"==this.mediaType},isOpenable(){return["video-group","video-folder","artist","album","playlist","genre"].includes(this.mediaType)},shouldShowMenu(){return"new-stream"!=this.mediaType},getDescription(){return"video"!=this.mediaType||this.forceAudio?this.isCard&&" "==this.media.artist?" ":this.media.artist:`${this.$readableDuration(this.media.duration)}`},manageClick(){"genre"==this.mediaType?this.$router.push({name:"GenreDetails",params:{genreId:this.media.id}}):"playlist"==this.mediaType?this.$router.push({name:"PlaylistDetails",params:{playlistId:this.media.id}}):"album"==this.mediaType?this.$router.push({name:"AlbumDetails",params:{albumId:this.media.id}}):"artist"==this.mediaType?this.$router.push({name:"ArtistDetails",params:{artistId:this.media.id}}):"video-group"==this.mediaType?this.$router.push({name:"VideoGroupList",params:{groupId:this.media.id}}):"video-folder"==this.mediaType?this.$router.push({name:"VideoFolderList",params:{folderId:this.media.id}}):["folder","storage","network"].includes(this.mediaType)?this.$router.push({name:"BrowseChild",params:{browseId:this.media.path}}):this.$play(this.media,this.mediaType)},addToPlaylist(e,t){e.mediaType=t,this.addToPlaylistStore.media=e}},props:{media:Object,downloadable:Boolean,mediaType:String,forceAudio:Boolean,isCard:Boolean,hideOverflow:{type:Boolean,default:!1}}};const oo=(0,at.Z)(lo,[["render",Gl]]);var no=oo,ro={components:{EmptyView:Ns,MediaItem:no},computed:{...(0,Qe.Kc)(Xe)},data(){return{videos:[],loaded:!1,forbidden:!1,videoGrouping:0}},methods:{fetchVideos(e=!1){let t=this;t.appStore.delayLoading(e,!0),this.videoGrouping=this.appStore.videoGrouping;let s=this.$route.params.groupId,i=this.$route.params.folderId;Ai.get(Ot.videoList(this.appStore.videoGrouping,s,i)).catch((function(s){t.appStore.delayLoading(e,!1),void 0!==s.response&&403==s.response.status&&(t.forbidden=!0)})).then((s=>{this.loaded=!0,s&&(t.forbidden=!1,this.videos=s.data.content,t.appStore.delayLoading(e,!1),t.appStore.title=s.data.item)}))},getEmptyText(){return this.forbidden?this.$t("FORBIDDEN"):this.$t("NO_MEDIA")},getMediaType(e){return e.fileType?e.fileType:"video"}},watch:{$route(){this.loaded=!1,this.fetchVideos()}},mounted:function(){this.appStore.$subscribe(((e,t)=>{this.$log.log(`Something changed in the app store: ${JSON.stringify(t)}`),t.needRefresh&&(this.fetchVideos(!0),this.appStore.needRefresh=!1),this.videoGrouping!=this.appStore.videoGrouping&&(this.fetchVideos(),this.$log.log(`Grouping changed to : ${this.appStore.videoGrouping}`))}))},created:function(){this.fetchVideos()}};const co=(0,at.Z)(ro,[["render",bl]]);var uo=co;const po={key:0,class:"container"},mo={key:0,class:"row gx-3 gy-3 media-list"},go={key:1,class:"row gx-3 gy-3 media-content"},ho={key:1,class:"empty-view-container"};function yo(e,t,s,i,l,o){const n=(0,a.up)("MediaItem"),r=(0,a.up)("EmptyView");return l.loaded&&0!==this.playlists.length?((0,a.wg)(),(0,a.iD)("div",po,[this.appStore.displayType[this.$route.name]?((0,a.wg)(),(0,a.iD)("div",mo,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.playlists,(e=>((0,a.wg)(),(0,a.j4)(n,{key:e.id,isCard:!1,media:e,mediaType:"playlist"},null,8,["media"])))),128))])):((0,a.wg)(),(0,a.iD)("div",go,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.playlists,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-3 col-lg-2 col-sm-4 col-6",key:e.id},[(0,a.Wm)(n,{isCard:!0,media:e,mediaType:"playlist"},null,8,["media"])])))),128))]))])):l.loaded?((0,a.wg)(),(0,a.iD)("div",ho,[(0,a.Wm)(r,{message:o.getEmptyText()},null,8,["message"])])):(0,a.kq)("",!0)}var wo={computed:{...(0,Qe.Kc)(Xe)},components:{MediaItem:no,EmptyView:Ns},data(){return{playlists:[],loaded:!1,forbidden:!1}},methods:{fetchPlaylists(e=!1){let t=this;t.appStore.delayLoading(e,!0),Ai.get(Ot.playlistList).catch((function(e){void 0!==e.response&&403==e.response.status&&(t.forbidden=!0)})).then((s=>{this.loaded=!0,s&&(t.forbidden=!1,this.playlists=s.data),t.appStore.delayLoading(e,!1)}))},getEmptyText(){return this.forbidden?this.$t("FORBIDDEN"):this.$t("NO_PLAYLIST")}},created:function(){this.fetchPlaylists()},mounted:function(){this.appStore.$subscribe(((e,t)=>{this.$log.log(`Something changed in the app store: ${JSON.stringify(t)}`),t.needRefresh&&(this.fetchPlaylists(!0),this.appStore.needRefresh=!1)}))}};const fo=(0,at.Z)(wo,[["render",yo]]);var bo=fo;const vo={class:"media-content text-primary"},_o={key:0,class:"spinner-border text-primary mt-3",role:"status"},ko={class:"visually-hidden"},So={key:0,class:"row gx-3 gy-3 media-list"},$o={key:1,class:"row gx-3 gy-3 media-content"},Do={class:"col-md-3 col-lg-2 col-sm-4 col-6"},To={class:"media-content text-primary"},Eo={key:2,class:"spinner-border text-primary mt-3",role:"status"},Ao={class:"visually-hidden"},Co={key:3},xo={key:0,class:"row gx-3 gy-3 media-list"},Io={key:1,class:"row gx-3 gy-3 media-content"};function Po(e,t,s,i,l,o){const n=(0,a.up)("MediaItem"),r=(0,a.up)("EmptyView"),d=(0,a.Q2)("t");return(0,a.wg)(),(0,a.iD)("div",{class:"container",onMlRefreshNeeded:t[0]||(t[0]=(...e)=>o.fetchStreams&&o.fetchStreams(...e))},[(0,a.wy)((0,a._)("h5",vo,null,512),[[d,"STREAMS"]]),l.streamsLoaded?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[this.appStore.displayType[this.$route.name]?((0,a.wg)(),(0,a.iD)("div",So,[(0,a.Wm)(n,{isCard:!1,media:l.newStream,mediaType:"new-stream",hideOverflow:!0},null,8,["media"]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.streams,(e=>((0,a.wg)(),(0,a.j4)(n,{key:e.id,isCard:!1,media:e,mediaType:"stream",hideOverflow:!0},null,8,["media"])))),128))])):((0,a.wg)(),(0,a.iD)("div",$o,[(0,a._)("div",Do,[(0,a.Wm)(n,{isCard:!0,media:l.newStream,mediaType:"new-stream",hideOverflow:!0},null,8,["media"])]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.streams,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-3 col-lg-2 col-sm-4 col-6",key:e.id},[(0,a.Wm)(n,{isCard:!0,media:e,mediaType:"stream",hideOverflow:!0},null,8,["media"])])))),128))]))],64)):((0,a.wg)(),(0,a.iD)("div",_o,[(0,a.wy)((0,a._)("span",ko,null,512),[[d,"LOADING"]])])),(0,a.wy)((0,a._)("h5",To,null,512),[[d,"HISTORY"]]),l.historyLoaded?0==this.history.length?((0,a.wg)(),(0,a.iD)("div",Co,[(0,a.Wm)(r,{message:o.getHistoryEmptyText()},null,8,["message"])])):((0,a.wg)(),(0,a.iD)(a.HY,{key:4},[this.appStore.displayType[this.$route.name]?((0,a.wg)(),(0,a.iD)("div",xo,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.history,(e=>((0,a.wg)(),(0,a.j4)(n,{key:e.id,isCard:!1,media:e,mediaType:"video",forceAudio:"video"!=e.fileType,hideOverflow:!0},null,8,["media","forceAudio"])))),128))])):((0,a.wg)(),(0,a.iD)("div",Io,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.history,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-3 col-lg-2 col-sm-4 col-6",key:e.id},[(0,a.Wm)(n,{isCard:!0,media:e,mediaType:"video",forceAudio:"video"!=e.fileType,hideOverflow:!0},null,8,["media","forceAudio"])])))),128))]))],64)):((0,a.wg)(),(0,a.iD)("div",Eo,[(0,a.wy)((0,a._)("span",Ao,null,512),[[d,"LOADING"]])]))],32)}var Lo={computed:{...(0,Qe.Kc)(Xe,["needRefresh"],et)},components:{MediaItem:no,EmptyView:Ns},data(){return{streams:[],history:[],streamsLoaded:!1,historyLoaded:!1,forbidden:!1,historyForbidden:!1,newStream:{artist:" ",artworkURL:"",id:-1,isFolder:!0,length:0,path:"",playing:!1,resolution:"",title:this.$t("NEW_STREAM")}}},watch:{needRefresh(){this.fetchStreams()}},methods:{fetchStreams(e=!1){let t=this;t.appStore.delayLoading(e,!0),Ai.get(Ot.streamList).catch((function(s){void 0!==s.response&&403==s.response.status&&(t.forbidden=!0),t.appStore.delayLoading(e,!1)})).then((s=>{this.streamsLoaded=!0,s&&(t.forbidden=!1,this.streams=s.data),t.appStore.delayLoading(e,!1)}))},fetchHistory(e=!1){let t=this;t.appStore.delayLoading(e,!0),Ai.get(Ot.history).catch((function(s){void 0!==s.response&&403==s.response.status&&(t.historyForbidden=!0),t.appStore.delayLoading(e,!1)})).then((s=>{this.historyLoaded=!0,s&&(t.historyForbidden=!1,this.history=s.data),t.appStore.delayLoading(e,!1)}))},getFileEmptyText(){return this.forbidden?this.$t("FORBIDDEN"):this.$t("DIRECTORY_EMPTY")},getHistoryEmptyText(){return this.historyForbidden?this.$t("FORBIDDEN"):this.$t("DIRECTORY_EMPTY")}},created:function(){this.fetchStreams(),this.fetchHistory()},mounted:function(){this.appStore.$subscribe(((e,t)=>{t.needRefresh&&(this.$log.log(`A stream has changed!! Reloading with: ${JSON.stringify(t)}`),this.fetchStreams(!0),this.fetchHistory(!0),this.appStore.needRefresh=!1)})),this.browserStore.$subscribe(((e,t)=>{t.descriptions.forEach((e=>{this.storages.forEach((t=>{t.path==e.path&&(t.artist=e.description)}))}))}))}};const Mo=(0,at.Z)(Lo,[["render",Po]]);var Ro=Mo;const Oo={key:0,class:"container container-sm"},Fo={key:0,class:"row gx-3 gy-3 media-list"},Bo={key:1,class:"row gx-3 gy-3 media-content"},Wo={key:1,class:"empty-view-container"};function No(e,t,s,i,l,o){const n=(0,a.up)("MediaItem"),r=(0,a.up)("EmptyView");return l.loaded&&0!==this.artists.length?((0,a.wg)(),(0,a.iD)("div",Oo,[this.appStore.displayType[this.$route.name]?((0,a.wg)(),(0,a.iD)("div",Fo,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.artists,(e=>((0,a.wg)(),(0,a.j4)(n,{key:e.id,isCard:!1,media:e,mediaType:"artist"},null,8,["media"])))),128))])):((0,a.wg)(),(0,a.iD)("div",Bo,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.artists,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-3 col-lg-2 col-sm-4 col-6",key:e.id},[(0,a.Wm)(n,{isCard:!0,media:e,mediaType:"artist"},null,8,["media"])])))),128))]))])):l.loaded?((0,a.wg)(),(0,a.iD)("div",Wo,[(0,a.Wm)(r,{message:o.getEmptyText()},null,8,["message"])])):(0,a.kq)("",!0)}var Ko={computed:{...(0,Qe.Kc)(Xe)},components:{MediaItem:no,EmptyView:Ns},data(){return{artists:[],loaded:!1,forbidden:!1}},methods:{fetchArtists(e=!1){let t=this;t.appStore.delayLoading(e,!0),Ai.get(Ot.artistList).catch((function(s){s.response&&(void 0!==s.response&&403==s.response.status&&(t.forbidden=!0),t.appStore.delayLoading(e,!1))})).then((s=>{this.loaded=!0,s&&(t.forbidden=!1,this.artists=s.data),t.appStore.delayLoading(e,!1)}))},getEmptyText(){return this.forbidden?this.$t("FORBIDDEN"):this.$t("NO_MEDIA")}},created:function(){this.fetchArtists()},mounted:function(){this.appStore.$subscribe(((e,t)=>{this.$log.log(`Something changed in the app store: ${JSON.stringify(t)}`),t.needRefresh&&(this.fetchArtists(!0),this.appStore.needRefresh=!1)}))}};const Ho=(0,at.Z)(Ko,[["render",No]]);var Yo=Ho;const Vo={key:0,class:"container"},Go={key:0,class:"row gx-3 gy-3 media-list"},qo={key:1,class:"row gx-3 gy-3 media-content"},Uo={key:1,class:"empty-view-container"};function jo(e,t,s,i,l,o){const n=(0,a.up)("MediaItem"),r=(0,a.up)("EmptyView");return l.loaded&&0!==this.albums.length?((0,a.wg)(),(0,a.iD)("div",Vo,[this.appStore.displayType[this.$route.name]?((0,a.wg)(),(0,a.iD)("div",Go,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.albums,(e=>((0,a.wg)(),(0,a.j4)(n,{key:e.id,isCard:!1,media:e,mediaType:"album"},null,8,["media"])))),128))])):((0,a.wg)(),(0,a.iD)("div",qo,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.albums,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-3 col-lg-2 col-sm-4 col-6",key:e.id},[(0,a.Wm)(n,{isCard:!0,media:e,mediaType:"album"},null,8,["media"])])))),128))]))])):l.loaded?((0,a.wg)(),(0,a.iD)("div",Uo,[(0,a.Wm)(r,{message:o.getEmptyText()},null,8,["message"])])):(0,a.kq)("",!0)}var zo={computed:{...(0,Qe.Kc)(Xe)},components:{MediaItem:no,EmptyView:Ns},data(){return{albums:[],loaded:!1,forbidden:!1}},methods:{fetchAlbums(e=!1){let t=this;t.appStore.delayLoading(e,!0),Ai.get(Ot.albumList).catch((function(s){void 0!==s.response&&403==s.response.status&&(t.forbidden=!0),t.appStore.delayLoading(e,!1)})).then((s=>{this.loaded=!0,s&&(t.forbidden=!1,this.albums=s.data),t.appStore.delayLoading(e,!1)}))},getEmptyText(){return this.forbidden?this.$t("FORBIDDEN"):this.$t("NO_MEDIA")}},created:function(){this.fetchAlbums()},mounted:function(){this.appStore.$subscribe(((e,t)=>{this.$log.log(`Something changed in the app store: ${JSON.stringify(t)}`),t.needRefresh&&(this.fetchAlbums(!0),this.appStore.needRefresh=!1)}))}};const Qo=(0,at.Z)(zo,[["render",jo]]);var Zo=Qo;const Jo={key:0,class:"container"},Xo={key:0,class:"row gx-3 gy-3 media-list"},en={key:1,class:"row gx-3 gy-3 media-content"},tn={key:1,class:"empty-view-container"};function sn(e,t,s,i,l,o){const n=(0,a.up)("MediaItem"),r=(0,a.up)("EmptyView");return l.loaded&&0!==this.tracks.length?((0,a.wg)(),(0,a.iD)("div",Jo,[this.appStore.displayType[this.$route.name]?((0,a.wg)(),(0,a.iD)("div",Xo,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.tracks,(e=>((0,a.wg)(),(0,a.j4)(n,{key:e.id,isCard:!1,media:e,downloadable:!0,mediaType:"track"},null,8,["media"])))),128))])):((0,a.wg)(),(0,a.iD)("div",en,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.tracks,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-3 col-lg-2 col-sm-4 col-6",key:e.id},[(0,a.Wm)(n,{isCard:!0,media:e,downloadable:!0,mediaType:"track"},null,8,["media"])])))),128))]))])):l.loaded?((0,a.wg)(),(0,a.iD)("div",tn,[(0,a.Wm)(r,{message:o.getEmptyText()},null,8,["message"])])):(0,a.kq)("",!0)}var an={computed:{...(0,Qe.Kc)(Xe)},components:{MediaItem:no,EmptyView:Ns},data(){return{tracks:[],loaded:!1,forbidden:!1}},methods:{fetchTracks(e=!1){let t=this;t.appStore.delayLoading(e,!0),Ai.get(Ot.trackList).catch((function(s){void 0!==s.response&&403==s.response.status&&(t.forbidden=!0),t.appStore.delayLoading(e,!1)})).then((s=>{this.loaded=!0,s&&(t.forbidden=!1,this.tracks=s.data),t.appStore.delayLoading(e,!1)}))},getEmptyText(){return this.forbidden?this.$t("FORBIDDEN"):this.$t("NO_MEDIA")}},created:function(){this.fetchTracks()},mounted:function(){this.appStore.$subscribe(((e,t)=>{this.$log.log(`Something changed in the app store: ${JSON.stringify(t)}`),t.needRefresh&&(this.fetchTracks(!0),this.appStore.needRefresh=!1)}))}};const ln=(0,at.Z)(an,[["render",sn]]);var on=ln;const nn={key:0,class:"container"},rn={key:0,class:"row gx-3 gy-3 media-list"},dn={key:1,class:"row gx-3 gy-3 media-content"},cn={key:1,class:"empty-view-container"};function un(e,t,s,i,l,o){const n=(0,a.up)("MediaItem"),r=(0,a.up)("EmptyView");return l.loaded&&0!==this.genres.length?((0,a.wg)(),(0,a.iD)("div",nn,[this.appStore.displayType[this.$route.name]?((0,a.wg)(),(0,a.iD)("div",rn,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.genres,(e=>((0,a.wg)(),(0,a.j4)(n,{key:e.id,isCard:!1,media:e,mediaType:"genre"},null,8,["media"])))),128))])):((0,a.wg)(),(0,a.iD)("div",dn,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.genres,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-3 col-lg-2 col-sm-4 col-6",key:e.id},[(0,a.Wm)(n,{isCard:!0,media:e,mediaType:"genre"},null,8,["media"])])))),128))]))])):l.loaded?((0,a.wg)(),(0,a.iD)("div",cn,[(0,a.Wm)(r,{message:o.getEmptyText()},null,8,["message"])])):(0,a.kq)("",!0)}var pn={computed:{...(0,Qe.Kc)(Xe)},components:{MediaItem:no,EmptyView:Ns},data(){return{genres:[],loaded:!1,forbidden:!1}},methods:{fetchGenres(e=!1){let t=this;t.appStore.delayLoading(e,!0),Ai.get(Ot.genreList).catch((function(s){void 0!==s.response&&403==s.response.status&&(t.forbidden=!0),t.appStore.delayLoading(e,!1)})).then((s=>{this.loaded=!0,s&&(t.forbidden=!1,this.genres=s.data),t.appStore.delayLoading(e,!1)}))},getEmptyText(){return this.forbidden?this.$t("FORBIDDEN"):this.$t("NO_MEDIA")}},created:function(){this.fetchGenres()},mounted:function(){this.appStore.$subscribe(((e,t)=>{this.$log.log(`Something changed in the app store: ${JSON.stringify(t)}`),t.needRefresh&&(this.fetchGenres(!0),this.appStore.needRefresh=!1)}))}};const mn=(0,at.Z)(pn,[["render",un]]);var gn=mn;const hn={key:0,class:"container"},yn={class:"row"},wn={key:0},fn={key:1,class:"d-flex vertical center-page spinner",style:{margin:"0 auto"}},bn={key:1,class:"empty-view-container"};function vn(e,t,s,i,l,o){const n=(0,a.up)("LogList"),r=(0,a.up)("EmptyView");return l.loaded&&0!==this.logs.length?((0,a.wg)(),(0,a.iD)("div",hn,[(0,a._)("div",yn,[0!==this.logs.length?((0,a.wg)(),(0,a.iD)("div",wn,[(0,a.Wm)(n,{logs:l.logs,onRefreshLogs:o.fetchLogs},null,8,["logs","onRefreshLogs"])])):((0,a.wg)(),(0,a.iD)("div",fn))])])):l.loaded?((0,a.wg)(),(0,a.iD)("div",bn,[(0,a.Wm)(r,{message:o.getEmptyText()},null,8,["message"])])):(0,a.kq)("",!0)}const _n={class:"row media-content"},kn={class:"table-responsive card table-container"},Sn={class:"table table-hover table-no-margin"},$n={class:"table-striped-columns"},Dn={class:"col-1 text-center align-middle",role:"columnheader",scope:"col"},Tn={class:"align-middle",role:"columnheader",scope:"col"},En={class:"text-center align-middle",role:"columnheader",scope:"col"};function An(e,t,s,i,l,o){const n=(0,a.up)("LogItem"),r=(0,a.Q2)("t");return(0,a.wg)(),(0,a.iD)("div",_n,[(0,a._)("div",kn,[(0,a._)("table",Sn,[(0,a._)("thead",null,[(0,a._)("tr",$n,[(0,a.wy)((0,a._)("th",Dn,null,512),[[r,"LOG_TYPE"]]),(0,a.wy)((0,a._)("th",Tn,null,512),[[r,"LOG_FILE"]]),(0,a.wy)((0,a._)("th",En,null,512),[[r,"DOWNLOAD"]])])]),(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.logs,(s=>((0,a.wg)(),(0,a.iD)("tr",{key:s.path},[(0,a.Wm)(n,{logfile:s,onRefreshLogs:t[0]||(t[0]=t=>e.$emit("refresh-logs"))},null,8,["logfile"])])))),128))])])])])}const Cn=["src","title"],xn={key:0,class:"new"},In=["href"],Pn={key:2,class:"spinner-border text-primary send-spinner",role:"status"},Ln={class:"visually-hidden"};function Mn(e,t,s,o,n,r){const d=(0,a.up)("ImageButton"),c=(0,a.Q2)("tooltip"),u=(0,a.Q2)("t");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("td",{class:(0,l.C_)(["align-middle text-center",{"current-log":""==s.logfile.path}])},[(0,a.wy)((0,a._)("img",{class:"image-button-image image-button",src:this.getImageByType(s.logfile.type),"data-bs-placement":"bottom",title:e.$t(this.getTitleByType(s.logfile.type))},null,8,Cn),[[c]])],2),(0,a._)("td",{class:(0,l.C_)(["align-middle w-auto",{"current-log":""==s.logfile.path}])},[s.logfile.new?((0,a.wg)(),(0,a.iD)("span",xn,"NEW")):(0,a.kq)("",!0),(0,a.Uk)(" "+(0,l.zw)(s.logfile.date),1)],2),(0,a._)("td",{class:(0,l.C_)(["text-center col-1",{"current-log":""==s.logfile.path}])},[""!=s.logfile.path?((0,a.wg)(),(0,a.iD)("a",{key:0,href:r.href,class:""},[(0,a.wy)((0,a.Wm)(d,{type:"file_download","data-bs-placement":"bottom",title:e.$t("DOWNLOAD")},null,8,["title"]),[[c]])],8,In)):n.sending?((0,a.wg)(),(0,a.iD)("div",Pn,[(0,a.wy)((0,a._)("span",Ln,null,512),[[u,"LOADING"]])])):(0,a.wy)(((0,a.wg)(),(0,a.j4)(d,{key:1,type:"file_upload",onClick:(0,i.iM)(r.downloadLocalLog,["stop"]),"data-bs-placement":"bottom",title:e.$t("SEND_LOGS")},null,8,["onClick","title"])),[[c]])],2)],64)}var Rn={components:{ImageButton:ot},emits:["refresh-logs"],props:{logfile:Object},data(){return{sending:!1}},computed:{href:function(){return`${Ot.downloadLog}`+this.logfile.path},iclass:function(){return"fa fa-"+this.type}},methods:{getImageByType(e){switch(e){case"web":return"./icons/web.svg";case"crash":return"./icons/crash.svg";default:return"./icons/mobile.svg"}},getTitleByType(e){switch(e){case"web":return"LOG_TYPE_WEB";case"crash":return"LOG_TYPE_CRASH";default:return"LOG_TYPE_MOBILE"}},downloadLocalLog(){this.sending=!0,Li().then((()=>{this.sending=!1,this.$emit("refresh-logs")}))}}};const On=(0,at.Z)(Rn,[["render",Mn]]);var Fn=On,Bn={components:{LogItem:Fn},props:{logs:Array}};const Wn=(0,at.Z)(Bn,[["render",An]]);var Nn=Wn,Kn={components:{LogList:Nn,EmptyView:Ns},computed:{...(0,Qe.Kc)(Xe)},data(){return{logs:[],loaded:!1}},methods:{fetchLogs(){let e=this;e.appStore.loading=!0,Ai.get(Ot.logfileList).catch((function(t){void 0!==t.response&&403==t.response.status&&(e.forbidden=!0)})).then((t=>{if(this.loaded=!0,t){e.forbidden=!1;let s=t.data;s.unshift({path:"",date:this.$t("LOG_TYPE_CURRENT"),type:"web"});let i=this.logs;0!=i.length&&s.forEach((e=>{i.some((t=>t.path==e.path))||(e.new=!0)})),this.logs=s}e.appStore.loading=!1}))},getEmptyText(){return this.forbidden?this.$t("FORBIDDEN"):this.$t("DIRECTORY_EMPTY")}},created:function(){this.fetchLogs()}};const Hn=(0,at.Z)(Kn,[["render",vn]]);var Yn=Hn;const Vn={key:0,class:"container"},Gn={key:0,class:"row gx-3 gy-3 media-list"},qn={key:1,class:"row gx-3 gy-3 media-content"},Un={key:1,class:"empty-view-container"};function jn(e,t,s,i,l,o){const n=(0,a.up)("MediaItem"),r=(0,a.up)("EmptyView");return l.loaded&&0!==this.browseResult.length?((0,a.wg)(),(0,a.iD)("div",Vn,[this.appStore.displayType[this.$route.name]?((0,a.wg)(),(0,a.iD)("div",Gn,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.browseResult,(e=>((0,a.wg)(),(0,a.j4)(n,{key:e.id,isCard:!1,media:e,mediaType:e.isFolder?"folder":"file"},null,8,["media","mediaType"])))),128))])):((0,a.wg)(),(0,a.iD)("div",qn,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.browseResult,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-3 col-lg-2 col-sm-4 col-6",key:e.id},[(0,a.Wm)(n,{isCard:!0,media:e,mediaType:e.isFolder?"folder":"file"},null,8,["media","mediaType"])])))),128))]))])):l.loaded?((0,a.wg)(),(0,a.iD)("div",Un,[(0,a.Wm)(r,{message:e.$t("DIRECTORY_EMPTY")},null,8,["message"])])):(0,a.kq)("",!0)}var zn={computed:{...(0,Qe.Kc)(Xe),...(0,Qe.Kc)(et)},components:{MediaItem:no,EmptyView:Ns},data(){return{browseResult:[],loaded:!1}},methods:{fetchContent(){this.browserStore.breadcrumb=[];let e=this;e.appStore.loading=!0,Ai.get(Ot.browseList(this.$route.params.browseId)).then((t=>{this.loaded=!0,this.browseResult=t.data.content,e.appStore.loading=!1,e.browserStore.breadcrumb=t.data.breadcrumb}))}},watch:{$route(e){void 0!==e.params.browseId?(this.browseResult=[],this.loaded=!1,this.fetchContent()):this.browserStore.breadcrumb=[]}},created:function(){this.fetchContent()},unmounted:function(){this.browserStore.breadcrumb=[],this.appStore.loading=!1,this.browserStore.descriptions=[]},mounted:function(){this.browserStore.$subscribe(((e,t)=>{t.descriptions.forEach((e=>{this.browseResult.forEach((t=>{t.path==e.path&&(t.artist=e.description)}))}))}))}};const Qn=(0,at.Z)(zn,[["render",jn]]);var Zn=Qn;const Jn={class:"container"},Xn={class:"media-content text-primary"},er={key:0,class:"spinner-border text-primary mt-3",role:"status"},tr={class:"visually-hidden"},sr={key:1},ir={key:0,class:"row gx-3 gy-3 media-list"},ar={key:1,class:"row gx-3 gy-3 media-content"},lr={class:"container"},or={class:"media-content text-primary"},nr={key:0,class:"spinner-border text-primary mt-3",role:"status"},rr={class:"visually-hidden"},dr={key:1},cr={key:0,class:"row gx-3 gy-3 media-list"},ur={key:1,class:"row gx-3 gy-3 media-content"},pr={class:"container"},mr={class:"media-content text-primary"},gr={key:0,class:"spinner-border text-primary mt-3",role:"status"},hr={class:"visually-hidden"},yr={key:1},wr={key:0,class:"row gx-3 gy-3 media-list"},fr={key:1,class:"row gx-3 gy-3 media-content"};function br(e,t,s,i,l,o){const n=(0,a.up)("EmptyView"),r=(0,a.up)("MediaItem"),d=(0,a.Q2)("t");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",Jn,[(0,a.wy)((0,a._)("h5",Xn,null,512),[[d,"FAVORITES"]]),l.favoritesLoaded?0==this.favorites.length?((0,a.wg)(),(0,a.iD)("div",sr,[(0,a.Wm)(n,{message:o.getFileEmptyText()},null,8,["message"])])):((0,a.wg)(),(0,a.iD)(a.HY,{key:2},[this.appStore.displayType[this.$route.name]?((0,a.wg)(),(0,a.iD)("div",ir,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.favorites,(e=>((0,a.wg)(),(0,a.j4)(r,{key:e.id,isCard:!1,media:e,mediaType:"folder",hideOverflow:!0},null,8,["media"])))),128))])):((0,a.wg)(),(0,a.iD)("div",ar,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.favorites,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-3 col-lg-2 col-sm-4 col-6",key:e.id},[(0,a.Wm)(r,{isCard:!0,media:e,mediaType:"folder",hideOverflow:!0},null,8,["media"])])))),128))]))],64)):((0,a.wg)(),(0,a.iD)("div",er,[(0,a.wy)((0,a._)("span",tr,null,512),[[d,"LOADING"]])]))]),(0,a._)("div",lr,[(0,a.wy)((0,a._)("h5",or,null,512),[[d,"STORAGES"]]),l.storagesLoaded?0==this.storages.length?((0,a.wg)(),(0,a.iD)("div",dr,[(0,a.Wm)(n,{message:o.getFileEmptyText()},null,8,["message"])])):((0,a.wg)(),(0,a.iD)(a.HY,{key:2},[this.appStore.displayType[this.$route.name]?((0,a.wg)(),(0,a.iD)("div",cr,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.storages,(e=>((0,a.wg)(),(0,a.j4)(r,{key:e.id,isCard:!1,media:e,mediaType:"folder",hideOverflow:!0},null,8,["media"])))),128))])):((0,a.wg)(),(0,a.iD)("div",ur,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.storages,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-3 col-lg-2 col-sm-4 col-6",key:e.id},[(0,a.Wm)(r,{isCard:!0,media:e,mediaType:"folder",hideOverflow:!0},null,8,["media"])])))),128))]))],64)):((0,a.wg)(),(0,a.iD)("div",nr,[(0,a.wy)((0,a._)("span",rr,null,512),[[d,"LOADING"]])]))]),(0,a._)("div",pr,[(0,a.wy)((0,a._)("h5",mr,null,512),[[d,"LOCAL_NETWORK"]]),l.networkLoaded?0==this.browserStore.networkShares.length?((0,a.wg)(),(0,a.iD)("div",yr,[(0,a.Wm)(n,{message:o.getNetworkEmptyText()},null,8,["message"])])):((0,a.wg)(),(0,a.iD)(a.HY,{key:2},[this.appStore.displayType[this.$route.name]?((0,a.wg)(),(0,a.iD)("div",wr,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.browserStore.networkShares,(e=>((0,a.wg)(),(0,a.j4)(r,{key:e.id,isCard:!1,media:e,mediaType:"network",hideOverflow:!0},null,8,["media"])))),128))])):((0,a.wg)(),(0,a.iD)("div",fr,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.browserStore.networkShares,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-3 col-lg-2 col-sm-4 col-6",key:e.id},[(0,a.Wm)(r,{isCard:!0,media:e,mediaType:"network",hideOverflow:!0},null,8,["media"])])))),128))]))],64)):((0,a.wg)(),(0,a.iD)("div",gr,[(0,a.wy)((0,a._)("span",hr,null,512),[[d,"LOADING"]])]))])],64)}var vr={computed:{...(0,Qe.Kc)(Xe,["needRefresh"],et)},components:{MediaItem:no,EmptyView:Ns},data(){return{favorites:[],storages:[],favoritesLoaded:!1,storagesLoaded:!1,networkLoaded:!1,forbidden:!1,networkForbidden:!1}},methods:{fetchFavorites(){let e=this;Ai.get(Ot.favoriteList).catch((function(t){void 0!==t.response&&403==t.response.status&&(e.forbidden=!0)})).then((t=>{this.favoritesLoaded=!0,t&&(e.forbidden=!1,this.favorites=t.data)}))},fetchStorages(){let e=this;Ai.get(Ot.storageList).catch((function(t){void 0!==t.response&&403==t.response.status&&(e.forbidden=!0)})).then((t=>{this.storagesLoaded=!0,t&&(e.forbidden=!1,this.storages=t.data)}))},fetchNetwork(){let e=this;Ai.get(Ot.networkList).catch((function(t){void 0!==t.response&&403==t.response.status&&(e.networkForbidden=!0)})).then((t=>{this.networkLoaded=!0,t&&(e.networkForbidden=!1)}))},getFileEmptyText(){return this.forbidden?this.$t("FORBIDDEN"):this.$t("DIRECTORY_EMPTY")},getNetworkEmptyText(){return this.networkForbidden?this.$t("FORBIDDEN"):this.$t("DIRECTORY_EMPTY")}},created:function(){this.fetchFavorites(),this.fetchStorages(),(this.appStore.socketOpened||this.appStore.longPollingOpened)&&this.fetchNetwork()},mounted:function(){this.browserStore.$subscribe(((e,t)=>{t.descriptions.forEach((e=>{this.storages.forEach((t=>{t.path==e.path&&(t.artist=e.description)}))}))})),this.appStore.$subscribe(((e,t)=>{(t.socketOpened||t.longPollingOpened)&&this.fetchNetwork()}))}};const _r=(0,at.Z)(vr,[["render",br]]);var kr=_r;const Sr={class:"container mt-3"},$r={class:"d-flex align-items-center justify-content-center"},Dr=["placeholder"],Tr={key:0},Er={key:0,class:"container"},Ar={class:"media-content text-primary"},Cr={class:"row gx-3 gy-3 media-list"},xr={key:1,class:"container"},Ir={class:"media-content text-primary"},Pr={class:"row gx-3 gy-3 media-list"},Lr={key:2,class:"container"},Mr={class:"media-content text-primary"},Rr={class:"row gx-3 gy-3 media-list"},Or={key:3,class:"container"},Fr={class:"media-content text-primary"},Br={class:"row gx-3 gy-3 media-list"},Wr={key:4,class:"container"},Nr={class:"media-content text-primary"},Kr={class:"row gx-3 gy-3 media-list"},Hr={key:5,class:"container"},Yr={class:"media-content text-primary"},Vr={class:"row gx-3 gy-3 media-list"},Gr={key:1};function qr(e,t,s,l,o,n){const r=(0,a.up)("ImageButton"),d=(0,a.up)("MediaItem"),c=(0,a.up)("EmptyView"),u=(0,a.Q2)("tooltip"),p=(0,a.Q2)("t");return(0,a.wg)(),(0,a.iD)("div",Sr,[(0,a._)("div",$r,[(0,a._)("input",{type:"text",id:"searchInput",class:"search-input",ref:"searchText",placeholder:e.$t("SEARCH_HINT"),"aria-labelledby":"passwordHelpBlock",onKeydown:t[0]||(t[0]=(0,i.D2)(((...e)=>n.onPressEnter&&n.onPressEnter(...e)),["enter"]))},null,40,Dr),(0,a.wy)((0,a.Wm)(r,{type:"search","data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:e.$t("SEARCH"),onClick:t[1]||(t[1]=e=>n.loadResults())},null,8,["title"]),[[u]])]),this.forbidden||n.emptyResults()?o.loaded?((0,a.wg)(),(0,a.iD)("div",Gr,[(0,a.Wm)(c,{message:n.getEmptyText()},null,8,["message"])])):(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",Tr,[0!==this.results.videos.length?((0,a.wg)(),(0,a.iD)("div",Er,[(0,a.wy)((0,a._)("h5",Ar,null,512),[[p,"VIDEO"]]),(0,a._)("div",Cr,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.results.videos,(e=>((0,a.wg)(),(0,a.j4)(d,{key:e.id,isCard:!1,media:e,mediaType:"video"},null,8,["media"])))),128))])])):(0,a.kq)("",!0),0!==this.results.tracks.length?((0,a.wg)(),(0,a.iD)("div",xr,[(0,a.wy)((0,a._)("h5",Ir,null,512),[[p,"TRACKS"]]),(0,a._)("div",Pr,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.results.videos,(e=>((0,a.wg)(),(0,a.j4)(d,{key:e.id,isCard:!1,media:e,mediaType:"video"},null,8,["media"])))),128))])])):(0,a.kq)("",!0),0!==this.results.albums.length?((0,a.wg)(),(0,a.iD)("div",Lr,[(0,a.wy)((0,a._)("h5",Mr,null,512),[[p,"ALBUMS"]]),(0,a._)("div",Rr,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.results.albums,(e=>((0,a.wg)(),(0,a.j4)(d,{key:e.id,isCard:!1,media:e,mediaType:"album"},null,8,["media"])))),128))])])):(0,a.kq)("",!0),0!==this.results.artists.length?((0,a.wg)(),(0,a.iD)("div",Or,[(0,a.wy)((0,a._)("h5",Fr,null,512),[[p,"ARTISTS"]]),(0,a._)("div",Br,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.results.artists,(e=>((0,a.wg)(),(0,a.j4)(d,{key:e.id,isCard:!1,media:e,mediaType:"artist"},null,8,["media"])))),128))])])):(0,a.kq)("",!0),0!==this.results.genres.length?((0,a.wg)(),(0,a.iD)("div",Wr,[(0,a.wy)((0,a._)("h5",Nr,null,512),[[p,"GENRES"]]),(0,a._)("div",Kr,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.results.genres,(e=>((0,a.wg)(),(0,a.j4)(d,{key:e.id,isCard:!1,media:e,mediaType:"genre"},null,8,["media"])))),128))])])):(0,a.kq)("",!0),0!==this.results.playlists.length?((0,a.wg)(),(0,a.iD)("div",Hr,[(0,a.wy)((0,a._)("h5",Yr,null,512),[[p,"PLAYLISTS"]]),(0,a._)("div",Vr,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.results.playlists,(e=>((0,a.wg)(),(0,a.j4)(d,{key:e.id,isCard:!1,media:e,mediaType:"playlist"},null,8,["media"])))),128))])])):(0,a.kq)("",!0)]))])}var Ur={computed:{...(0,Qe.Kc)(Xe)},components:{MediaItem:no,EmptyView:Ns,ImageButton:ot},data(){return{results:(0,Ze.qj)({albums:[],artists:[],genres:[],playlists:[],videos:[],tracks:[]}),loaded:!1,forbidden:!1}},methods:{onPressEnter(){this.loadResults()},emptyResults(){return 0==this.results.albums.length&&0==this.results.artists.length&&0==this.results.genres.length&&0==this.results.playlists.length&&0==this.results.videos.length&&0==this.results.tracks.length},loadResults(e=!1){let t=this;t.appStore.delayLoading(e,!0),Ai.get(Ot.search(this.$refs.searchText.value)).catch((function(e){void 0!==e.response&&403==e.response.status&&(t.forbidden=!0)})).then((s=>{this.loaded=!0,s&&(t.forbidden=!1,this.results=s.data),t.appStore.delayLoading(e,!1)}))},getEmptyText(){return this.forbidden?this.$t("FORBIDDEN"):this.$t("SEARCH_NO_RESULT")}},mounted:function(){this.$nextTick((()=>{this.$refs.searchText.focus()})),this.appStore.$subscribe(((e,t)=>{this.$log.log(`Something changed in the app store: ${JSON.stringify(t)}`),t.needRefresh&&(this.loadResults(!0),this.appStore.needRefresh=!1)}))}};const jr=(0,at.Z)(Ur,[["render",qr]]);var zr=jr;const Qr=["action"],Zr={class:"container"},Jr={class:"modal fade",id:"loginModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"loginModalLabel","aria-hidden":"true"},Xr={class:"modal-dialog modal-fullscreen"},ed={class:"modal-content"},td={class:"modal-body"},sd={class:"container"},id={class:"text-center explanation"},ad={class:"text-danger text-center fs-5 text fw-bold"},ld={class:"text-center digits"},od={class:"text-center"},nd={class:"text-center"};function rd(e,t,s,l,o,n){const r=(0,a.Q2)("t");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("form",{action:n.getFormUrl(),method:"post",ref:"form",autocomplete:"off"},null,8,Qr),(0,a._)("div",Zr,[(0,a._)("div",Jr,[(0,a._)("div",Xr,[(0,a._)("div",ed,[(0,a._)("div",td,[(0,a._)("div",sd,[(0,a.wy)((0,a._)("h5",id,null,512),[[r,"CODE_REQUEST_EXPLANATION"]]),(0,a.wy)((0,a._)("p",ad,null,512),[[i.F8,this.$route.meta.showError],[r,"INVALID_OTP"]]),(0,a._)("div",ld,[(0,a._)("input",{autocomplete:"new-password",pattern:"[0-9]*",inputmode:"numeric",class:"digit text-center",type:"password",required:"",ref:"digit0",id:"digit0",size:"1",maxlength:"1",tabindex:"1",onInput:t[0]||(t[0]=(...e)=>n.manageInput&&n.manageInput(...e)),onKeydown:t[1]||(t[1]=e=>n.handleKeyDown(e,0))},null,544),(0,a._)("input",{autocomplete:"new-password",pattern:"[0-9]*",inputmode:"numeric",class:"digit text-center",type:"password",required:"",ref:"digit1",id:"digit1",size:"1",maxlength:"1",tabindex:"2",onInput:t[2]||(t[2]=(...e)=>n.manageInput&&n.manageInput(...e)),onKeydown:t[3]||(t[3]=e=>n.handleKeyDown(e,1))},null,544),(0,a._)("input",{autocomplete:"new-password",pattern:"[0-9]*",inputmode:"numeric",class:"digit text-center",type:"password",required:"",ref:"digit2",id:"digit2",size:"1",maxlength:"1",tabindex:"3",onInput:t[4]||(t[4]=(...e)=>n.manageInput&&n.manageInput(...e)),onKeydown:t[5]||(t[5]=e=>n.handleKeyDown(e,2))},null,544),(0,a._)("input",{autocomplete:"new-password",pattern:"[0-9]*",inputmode:"numeric",class:"digit text-center",type:"password",required:"",ref:"digit3",id:"digit3",size:"1",maxlength:"1",tabindex:"4",onInput:t[6]||(t[6]=(...e)=>n.manageInput&&n.manageInput(...e)),onKeydown:t[7]||(t[7]=e=>n.handleKeyDown(e,3))},null,544)]),(0,a._)("div",od,[(0,a.wy)((0,a._)("button",{type:"button",class:"btn btn-primary action-btn btn-lg",tabindex:"5",onClick:t[8]||(t[8]=(...e)=>n.manageClick&&n.manageClick(...e)),ref:"send"},null,512),[[r,"SEND"]])]),(0,a._)("div",nd,[(0,a.wy)((0,a._)("button",{type:"button",class:"btn btn-primary action-btn btn-light",tabindex:"6",onClick:t[9]||(t[9]=e=>n.generateCode(!0))},null,512),[[r,"NEW_CODE"]])])])])])])])])],64)}var dd=s(8451),cd={components:{},computed:{...(0,Qe.Kc)(Xe)},data(){return{modal:null,challenge:"",inputs:[this.$refs.digit1,this.$refs.digit2,this.$refs.digit3,this.$refs.digit4]}},methods:{handleKeyDown(e,t){if(this.inputs=[this.$refs.digit0,this.$refs.digit1,this.$refs.digit2,this.$refs.digit3],"Tab"!==e.key&&"ArrowRight"!==e.key&&"ArrowLeft"!==e.key&&e.preventDefault(),"Backspace"!==e.key)new RegExp("^([0-9])$").test(e.key)&&(e.target.value=e.key,this.manageInput(e));else{if(""!==e.target.value)return void(e.target.value="");let s=t-1;s>=0&&(console.log(`Resetting input at index ${s}`),this.inputs[s].value="",this.inputs[s].focus())}},getFormUrl(){return Ot.verifyCode},manageClick(){let e=this.$refs.form,t="";t+=this.$refs.digit0.value,t+=this.$refs.digit1.value,t+=this.$refs.digit2.value,t+=this.$refs.digit3.value,t+=this.challenge;var s=document.createElement("input");s.type="hidden",s.name="code",s.value=(0,dd.sha256)(t),e.appendChild(s),e.submit()},manageInput(e){if(e.target.value.length>0)switch(e.target.id){case"digit0":this.$refs.digit1.focus();break;case"digit1":this.$refs.digit2.focus();break;case"digit2":this.$refs.digit3.focus();break;default:this.$refs.send.focus()}},generateCode(e){let t=this,s={challenge:""};e&&(s={challenge:this.challenge}),Ai.post(Ot.code,s,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((e=>{this.loaded=!0,e&&(t.forbidden=!1,this.challenge=e.data),t.appStore.loading=!1}))}},mounted:function(){this.appStore.loading=!1,this.modal=new vi.u_(document.getElementById("loginModal"),{}),this.generateCode(!1);let e=this;document.getElementById("loginModal").addEventListener("shown.bs.modal",(function(){e.$refs.digit0.focus()})),this.modal.show()},unmounted:function(){this.modal.hide()}};const ud=(0,at.Z)(cd,[["render",rd]]);var pd=ud;const md={class:"container"},gd={class:"modal fade",id:"exampleModal",tabindex:"-1","data-bs-backdrop":"static","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},hd={class:"modal-dialog"},yd={class:"modal-content"},wd={class:"modal-header"},fd=["src"],bd={class:"modal-title fs-5 ssl-title",id:"exampleModalLabel"},vd={class:"modal-body"},_d={class:"ssl-explanation"},kd={class:"fw-bold ssl-explanation"},Sd={class:"ssl-explanation"},$d={class:"modal-footer"},Dd={href:"https://docs.videolan.me/vlc-user/android/3.5/en/more/remoteaccess/remote_access_ssl.html",target:"_blank",class:"link-primary"};function Td(e,t,s,i,l,o){const n=(0,a.Q2)("t");return(0,a.wg)(),(0,a.iD)("div",md,[(0,a._)("div",gd,[(0,a._)("div",hd,[(0,a._)("div",yd,[(0,a._)("div",wd,[(0,a._)("img",{class:"image-button-image",src:"./icons/security_warning.svg"},null,8,fd),(0,a.wy)((0,a._)("h1",bd,null,512),[[n,"SSL_EXPLANATION_TITLE"]])]),(0,a._)("div",vd,[(0,a.wy)((0,a._)("p",_d,null,512),[[n,"SSL_EXPLANATION"]]),(0,a.wy)((0,a._)("p",kd,null,512),[[n,"SSL_EXPLANATION_BROWSER"]]),(0,a.wy)((0,a._)("p",Sd,null,512),[[n,"SSL_EXPLANATION_ACCEPT"]])]),(0,a._)("div",$d,[(0,a.wy)((0,a._)("a",Dd,null,512),[[n,"LEARN_MORE"]]),(0,a.wy)((0,a._)("button",{type:"button",class:"btn btn-primary",onClick:t[0]||(t[0]=e=>o.secureConnection())},null,512),[[n,"SSL_BUTTON"]])])])])])])}var Ed={components:{},computed:{},data(){return{modal:null,challenge:""}},methods:{secureConnection(){let e=this;Ai.get(Ot.secureUrl).catch((function(t){void 0!==t.response&&403==t.response.status&&(e.forbidden=!0)})).then((e=>{e&&(location.href=e.data)}))}},mounted:function(){this.modal=new vi.u_(document.getElementById("exampleModal"),{}),this.modal.show()},unmounted:function(){this.modal.hide()}};const Ad=(0,at.Z)(Ed,[["render",Td]]);var Cd=Ad;const xd={class:"container"},Id={class:"media-content text-primary"},Pd={class:"modal-body mt-4"},Ld={class:"table-responsive card"},Md={class:"table table-hover table-no-margin bottomless-table"},Rd={class:"table-striped-columns"},Od={colspan:"2",role:"columnheader",scope:"col"},Fd={scope:"col",class:"col-1"},Bd={scope:"col",class:"col-4"},Wd={scope:"col",class:"col-1"},Nd={scope:"col",class:"col-4"},Kd={class:"table-responsive card mt-4"},Hd={class:"table table-hover table-no-margin bottomless-table"},Yd={class:"table-striped-columns"},Vd={colspan:"2",role:"columnheader",scope:"col"},Gd={scope:"col",class:"col-1"},qd={scope:"col",class:"col-4"},Ud={scope:"col",class:"col-1"},jd={scope:"col",class:"col-4"},zd={class:"table-responsive card mt-4"},Qd={class:"table table-hover table-no-margin align-middle bottomless-table"},Zd={class:"table-striped-columns"},Jd={colspan:"3",role:"columnheader",scope:"col"},Xd={scope:"col",class:"col-1"},ec=["href"],tc={scope:"col",class:"col-3"},sc={scope:"col",class:"col-1"};function ic(e,t,s,i,o,n){const r=(0,a.Q2)("t");return(0,a.wg)(),(0,a.iD)("div",xd,[(0,a.wy)((0,a._)("h5",Id,null,512),[[r,"ABOUT"]]),(0,a._)("div",Pd,[(0,a._)("div",Ld,[(0,a._)("table",Md,[(0,a._)("thead",null,[(0,a._)("tr",Rd,[(0,a.wy)((0,a._)("th",Od,null,512),[[r,"REMOTE_ACCESS_TITLE"]])])]),(0,a._)("tbody",null,[(0,a._)("tr",null,[(0,a._)("td",Fd,[(0,a.wy)((0,a._)("p",null,null,512),[[r,"REMOTE_ACCESS_VERSION_TITLE"]])]),(0,a._)("td",Bd,[(0,a.wy)((0,a._)("p",null,null,512),[[r,"REMOTE_ACCESS_VERSION"]])])]),(0,a._)("tr",null,[(0,a._)("td",Wd,[(0,a.wy)((0,a._)("p",null,null,512),[[r,"REMOTE_ACCESS_HASH_TITLE"]])]),(0,a._)("td",Nd,[(0,a.wy)((0,a._)("p",null,null,512),[[r,"REMOTE_ACCESS_HASH"]])])])])])]),(0,a._)("div",Kd,[(0,a._)("table",Hd,[(0,a._)("thead",null,[(0,a._)("tr",Yd,[(0,a.wy)((0,a._)("th",Vd,null,512),[[r,"CONNECTED_DEVICE"]])])]),(0,a._)("tbody",null,[(0,a._)("tr",null,[(0,a._)("td",Gd,[(0,a.wy)((0,a._)("p",null,null,512),[[r,"DEVICE_MODEL"]])]),(0,a._)("td",qd,[(0,a.wy)((0,a._)("p",null,null,512),[[r,"DEVICE_NAME"]])])]),(0,a._)("tr",null,[(0,a._)("td",Ud,[(0,a.wy)((0,a._)("p",null,null,512),[[r,"VLC_VERSION"]])]),(0,a._)("td",jd,[(0,a.wy)((0,a._)("p",null,null,512),[[r,"APP_VERSION"]])])])])])]),(0,a._)("div",zd,[(0,a._)("table",Qd,[(0,a._)("thead",null,[(0,a._)("tr",Zd,[(0,a.wy)((0,a._)("th",Jd,null,512),[[r,"LIBRARIES"]])])]),(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.librairies,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.name},[(0,a._)("td",Xd,[(0,a._)("p",null,[(0,a._)("a",{href:e.link,target:"_blank"},(0,l.zw)(e.name),9,ec)])]),(0,a._)("td",tc,[(0,a._)("p",null,(0,l.zw)(e.copyright),1)]),(0,a._)("td",sc,[(0,a._)("p",null,(0,l.zw)(e.license),1)])])))),128))])])])])])}var ac={data(){return{librairies:[{name:"floating-ui/vue",link:"https://github.com/floating-ui/floating-ui",copyright:"Copyright (c) 2021 Floating UI contributors",license:"MIT"},{name:"vue",link:"https://github.com/vuejs/core",copyright:"Copyright (c) 2018-present, Yuxi (Evan) You and Vue contributors",license:"MIT"},{name:"axios",link:"https://github.com/axios/axios",copyright:"Copyright (c) 2014-present Matt Zabriskie & Collaborators",license:"MIT"},{name:"bootstrap",link:"https://github.com/twbs/bootstrap",copyright:"Copyright (c) 2011-2024 The Bootstrap Authors",license:"MIT"},{name:"js-sha256",link:"https://github.com/emn178/js-sha256",copyright:"Copyright (c) 2014-2024 Chen, Yi-Cyuan",license:"MIT"},{name:"pinia",link:"https://github.com/vuejs/pinia",copyright:"Copyright (c) 2019-present Eduardo San Martin Morote",license:"MIT"},{name:"vue-i18n",link:"https://github.com/intlify/vue-i18n",copyright:"Copyright (c) 2016 kazuya kawaguchi",license:"MIT"},{name:"vue-lazyload",link:"https://github.com/hilongjw/vue-lazyload",copyright:"Copyright (c) 2016 Awe",license:"MIT"},{name:"vue-logger-plugin",link:"https://github.com/dev-tavern/vue-logger-plugin",copyright:"Copyright (c) 2020 devtavern",license:"MIT"}]}}};const lc=(0,at.Z)(ac,[["render",ic]]);var oc=lc;const nc={class:"container"},rc={class:"media-content text-primary mb-4"},dc=["src"],cc={class:"card-body media-text flex1"},uc={class:"card-title text-truncate"},pc={class:"card-text text-truncate subtitle"},mc=["src"],gc={class:"card-body media-text flex1"},hc={class:"card-title text-truncate"},yc={class:"card-text text-truncate subtitle"},wc=["src"],fc={class:"card-body media-text flex1"},bc={class:"card-title text-truncate"},vc={class:"card-text text-truncate subtitle"},_c={class:"mt-5"},kc={class:"form-label mt-5 fit-width-center",ref:"waitingMessage"},Sc={class:"modal-body mt-4 border rounded-2 p-3"},$c={class:"mb-3"},Dc={for:"feedback_type",class:"form-label"},Tc={class:"dropdown",id:"feedback_type"},Ec={class:"btn btn-primary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},Ac={class:"dropdown-menu"},Cc={class:"mb-3"},xc={for:"feedbackSubject",class:"form-label"},Ic={type:"text",class:"form-control",id:"feedbackSubject",ref:"feedbackSubject"},Pc={class:"mb-3"},Lc={for:"feedbackMessage",class:"form-label"},Mc={class:"form-control",id:"feedbackMessage",rows:"3",ref:"feedbackMessage"},Rc={class:"form-check"},Oc=["checked"],Fc={class:"form-check-label",for:"includeML"},Bc={class:"form-check"},Wc=["checked"],Nc={class:"form-check-label",for:"includeLogs"},Kc={class:"modal-body mt-4 border rounded-2 mt-2 mb-2 p-3"},Hc={class:"h4 media-content text-primary text-center fit-width-center mb-2"},Yc={class:"mb-3 border rounded-1 text-center p-3 fit-width-center"},Vc={class:"d-flex align-items-center"},Gc={type:"text",disabled:"",class:"form-control mb-3 mt-3",id:"feedbackResultEmail",ref:"feedbackResultEmail"},qc={class:"d-flex align-items-center"},Uc={type:"text",disabled:"",class:"form-control mb-3",id:"feedbackResultSubject",ref:"feedbackResultSubject"},jc={class:"d-flex align-items-center"},zc={disabled:"",class:"form-control mb-3",id:"feedbackResultMessage",rows:"3",ref:"feedbackResultMessage"},Qc={class:"alert alert-warning fit-width-center"};function Zc(e,t,s,o,n,r){const d=(0,a.up)("ImageButton"),c=(0,a.Q2)("t");return(0,a.wg)(),(0,a.iD)("div",nc,[(0,a.wy)((0,a._)("h5",rc,null,512),[[c,"FEEDBACK"],[i.F8,0==this.step]]),(0,a.Wm)(i.uT,{name:"slide-fade"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("div",{class:"border rounded-2 p-3 mb-2 clickable feedback-entry",onClick:t[0]||(t[0]=e=>r.openForum())},[(0,a._)("img",{src:"./icons/forum.svg",class:"feedback-entry-img me-3"},null,8,dc),(0,a._)("div",cc,[(0,a.wy)((0,a._)("h6",uc,null,512),[[c,"FEEDBACK_FORUM"]]),(0,a._)("p",pc,(0,l.zw)(r.generateSubtitle("forum")),1)])],512),[[i.F8,0==this.emailOpened]])])),_:1}),(0,a.Wm)(i.uT,{name:"slide-fade"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("div",{class:"border rounded-2 p-3 mb-2 clickable feedback-entry",onClick:t[1]||(t[1]=e=>r.openDocumentation())},[(0,a._)("img",{src:"./icons/documentation.svg",class:"feedback-entry-img me-3"},null,8,mc),(0,a._)("div",gc,[(0,a.wy)((0,a._)("h6",hc,null,512),[[c,"FEEDBACK_DOC"]]),(0,a.wy)((0,a._)("p",yc,null,512),[[c,"GET_HELP"]])])],512),[[i.F8,0==this.emailOpened]])])),_:1}),(0,a._)("div",{class:"border rounded-2 p-3 mb-2 clickable feedback-entry",onClick:t[2]||(t[2]=e=>this.emailOpened=!this.emailOpened)},[(0,a._)("img",{src:"./icons/email.svg",class:"feedback-entry-img me-3"},null,8,wc),(0,a._)("div",fc,[(0,a.wy)((0,a._)("h6",bc,null,512),[[c,"FEEDBACK_SUBTITLE"]]),(0,a._)("p",vc,(0,l.zw)(r.generateSubtitle("email")),1)])]),(0,a.Wm)(i.uT,{name:"slide-fade"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("div",_c,[(0,a._)("h4",kc,null,512)],512),[[i.F8,this.emailOpened&&1==this.step]])])),_:1}),(0,a.Wm)(i.uT,{name:"opacity"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("div",Sc,[(0,a._)("div",$c,[(0,a.wy)((0,a._)("label",Dc,null,512),[[c,"FEEDBACK_TYPE"]]),(0,a._)("div",Tc,[(0,a.wy)((0,a._)("button",Ec,null,512),[[c,this.reasons[this.reason]]]),(0,a._)("ul",Ac,[(0,a._)("li",null,[(0,a.wy)((0,a._)("a",{class:"dropdown-item cursor-pointer",onClick:t[3]||(t[3]=e=>this.changeReason(0))},null,512),[[c,"FEEDBACK_HELP"]])]),(0,a._)("li",null,[(0,a.wy)((0,a._)("a",{class:"dropdown-item cursor-pointer",onClick:t[4]||(t[4]=e=>this.changeReason(1))},null,512),[[c,"FEEDBACK_FEATURE"]])]),(0,a._)("li",null,[(0,a.wy)((0,a._)("a",{class:"dropdown-item cursor-pointer",onClick:t[5]||(t[5]=e=>this.changeReason(2))},null,512),[[c,"FEEDBACK_BUG"]])]),(0,a._)("li",null,[(0,a.wy)((0,a._)("a",{class:"dropdown-item cursor-pointer",onClick:t[6]||(t[6]=e=>this.changeReason(3))},null,512),[[c,"FEEDBACK_CRASH"]])])])])]),(0,a._)("div",Cc,[(0,a.wy)((0,a._)("label",xc,null,512),[[c,"FEEDBACK_SUBJECT"]]),(0,a._)("input",Ic,null,512)]),(0,a._)("div",Pc,[(0,a.wy)((0,a._)("label",Lc,null,512),[[c,"FEEDBACK_MESSAGE"]]),(0,a._)("textarea",Mc,null,512)]),(0,a.wy)((0,a._)("div",Rc,[(0,a._)("input",{class:"form-check-input",type:"checkbox",value:"",id:"includeML",ref:"includeML",checked:3==this.reason},null,8,Oc),(0,a.wy)((0,a._)("label",Fc,null,512),[[c,"FEEDBACK_MEDIALIBRARY"]])],512),[[i.F8,this.reason>1]]),(0,a.wy)((0,a._)("div",Bc,[(0,a._)("input",{class:"form-check-input",type:"checkbox",value:"",id:"includeLogs",ref:"includeLogs",checked:3==this.reason},null,8,Wc),(0,a.wy)((0,a._)("label",Nc,null,512),[[c,"FEEDBACK_LOGS"]])],512),[[i.F8,this.reason>1]]),(0,a.wy)((0,a._)("button",{class:"btn btn-primary mt-4",onClick:t[7]||(t[7]=e=>r.sendForm())},null,512),[[c,"FEEDBACK_GENERATE"]])],512),[[i.F8,this.emailOpened&&0==this.step]])])),_:1}),(0,a.Wm)(i.uT,{name:"slide-fade"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("div",Kc,[(0,a.wy)((0,a._)("p",Hc,null,512),[[c,"FEEDBACK_GENERATED_TITLE"]]),(0,a.wy)((0,a._)("p",Yc,null,512),[[c,"FEEDBACK_GENERATED_EXPLANATION"]]),(0,a._)("div",Vc,[(0,a._)("input",Gc,null,512),(0,a.Wm)(d,{type:"copy",onClick:t[8]||(t[8]=e=>r.copy(this.$refs.feedbackResultEmail))})]),(0,a._)("div",qc,[(0,a._)("input",Uc,null,512),(0,a.Wm)(d,{type:"copy",onClick:t[9]||(t[9]=e=>r.copy(this.$refs.feedbackResultSubject))})]),(0,a._)("div",jc,[(0,a._)("textarea",zc,null,512),(0,a.Wm)(d,{type:"copy",onClick:t[10]||(t[10]=e=>r.copy(this.$refs.feedbackResultMessage))})]),(0,a.wy)((0,a._)("div",Qc,[(0,a.wy)((0,a._)("p",null,null,512),[[c,"FEEDBACK_GENERATED_FILE_EXPLANATION"]])],512),[[i.F8,this.fileDownloaded]]),(0,a.wy)((0,a._)("button",{class:"btn btn-primary mt-4",onClick:t[11]||(t[11]=e=>r.mailTo())},null,512),[[c,"SEND"]])],512),[[i.F8,this.emailOpened&&2==this.step]])])),_:1})])}var Jc={components:{ImageButton:ot},computed:{...(0,Qe.Kc)(Xe)},data(){return{emailOpened:!1,step:0,reason:0,fileDownloaded:!1,reasons:["FEEDBACK_HELP","FEEDBACK_FEATURE","FEEDBACK_BUG","FEEDBACK_CRASH"]}},methods:{changeReason(e){this.reason=e},mailTo(){let e=this.$refs.feedbackResultMessage.value.replace(/(?:\r\n|\r|\n)/g,"%0D%0A");window.open(`mailto:${this.$refs.feedbackResultEmail.value}?subject=${this.$refs.feedbackResultSubject.value}&body=${e}`)},copy(e){e.select(),e.setSelectionRange(0,99999),navigator.clipboard.writeText(e.value),this.appStore.warning={type:"warning",message:this.$t("COPIED")},setTimeout((()=>{this.appStore.warning=void 0}),1500)},generateSubtitle(e){return"forum"==e?`${this.$t("FEEDBACK")} · ${this.$t("REPORT_A_BUG")}`:"email"==e?`${this.$t("FEEDBACK")} · ${this.$t("GET_HELP")} · ${this.$t("REPORT_A_BUG")}`:void 0},openForum(){window.open(this.$t("FEEDBACK_FORUM_URL"),"_blank").focus()},openDocumentation(){window.open(this.$t("FEEDBACK_DOC_URL"),"_blank").focus()},sendForm(){let e=this,t={type:this.reason,includeML:this.$refs.includeML.checked,includeLogs:this.$refs.includeLogs.checked,subject:this.$refs.feedbackSubject.value,message:this.$refs.feedbackMessage.value};this.$refs.includeML.checked||this.$refs.includeLogs.checked?this.$refs.waitingMessage.innerText=this.$t("FEEDBACK_GENERATING_LOGS"):this.$refs.waitingMessage.innerText=this.$t("FEEDBACK_PLEASE_WAIT"),this.step=1,this.appStore.loading=!0,Ai.post(Ot.feedbackForm,t,{headers:{"Content-Type":"multipart/form-data"}}).catch((function(t){e.step=0,e.appStore.loading=!1,void 0!==t.response&&403==t.response.status&&(e.appStore.warning={type:"warning",message:e.$t("LOGS_CONTROL_FORBIDDEN")})})).then((t=>{e.appStore.loading=!1,t&&(this.step=2,e.forbidden=!1,this.storages=t.data,t.data.file&&(window.location.href=Ot.download(t.data.file),this.fileDownloaded=!0),this.$refs.feedbackResultEmail.value=t.data.mail,this.$refs.feedbackResultSubject.value=t.data.subject,this.$refs.feedbackResultMessage.value=t.data.message)}))}}};const Xc=(0,at.Z)(Jc,[["render",Zc]]);var eu=Xc;const tu={key:0,class:"container"},su={key:0,class:"row gx-3 gy-3 media-list"},iu={key:1,class:"row gx-3 gy-3 media-content"},au={key:1,class:"empty-view-container"};function lu(e,t,s,i,l,o){const n=(0,a.up)("MediaItem"),r=(0,a.up)("EmptyView");return l.loaded&&0!==this.tracks.length?((0,a.wg)(),(0,a.iD)("div",tu,[this.appStore.displayType[this.$route.name]?((0,a.wg)(),(0,a.iD)("div",su,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.tracks,(e=>((0,a.wg)(),(0,a.j4)(n,{key:e.id,isCard:!1,media:e,downloadable:!0,mediaType:o.getMediaType(),forceAudio:"PlaylistDetails"==this.$route.name&&"video"!=e.fileType},null,8,["media","mediaType","forceAudio"])))),128))])):((0,a.wg)(),(0,a.iD)("div",iu,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.tracks,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-3 col-lg-2 col-sm-4 col-6",key:e.id},[(0,a.Wm)(n,{isCard:!0,media:e,downloadable:!0,mediaType:o.getMediaType(),forceAudio:"PlaylistDetails"==this.$route.name&&"video"!=e.fileType},null,8,["media","mediaType","forceAudio"])])))),128))]))])):l.loaded?((0,a.wg)(),(0,a.iD)("div",au,[(0,a.Wm)(r,{message:o.getEmptyText()},null,8,["message"])])):(0,a.kq)("",!0)}var ou={computed:{...(0,Qe.Kc)(Xe)},components:{MediaItem:no,EmptyView:Ns},data(){return{tracks:[],loaded:!1,forbidden:!1}},methods:{fetchTracks(){let e=this;e.appStore.loading=!0;let t="";switch(this.$route.name){case"VideoGroupList":case"VideoFolderList":t=Ot.videoList(this.appStore.videoGrouping,this.$route.params.groupId,this.$route.params.folderId);break;case"ArtistDetails":t=Ot.artistDetails(this.$route.params.artistId);break;case"AlbumDetails":t=Ot.albumDetails(this.$route.params.albumId);break;case"GenreDetails":t=Ot.genreDetails(this.$route.params.genreId);break;case"PlaylistDetails":t=Ot.playlistDetails(this.$route.params.playlistId);break}Ai.get(t).catch((function(t){void 0!==t.response&&403==t.response.status&&(e.forbidden=!0)})).then((t=>{if(this.loaded=!0,t)switch(e.forbidden=!1,this.$route.name){case"VideoGroupList":case"VideoFolderList":this.tracks=t.data.content;break;case"ArtistDetails":this.tracks=t.data.albums;break;default:this.tracks=t.data.tracks;break}e.appStore.loading=!1,e.appStore.title=t.data.name}))},getEmptyText(){return this.forbidden?this.$t("FORBIDDEN"):this.$t("NO_MEDIA")},getMediaType(){switch(this.$route.name){case"PlaylistDetails":return"video";case"ArtistDetails":return"album";default:return"track"}}},created:function(){this.fetchTracks()},watch:{$route(){this.fetchTracks(),this.loaded=!1}},unmounted:function(){this.appStore.title=""}};const nu=(0,at.Z)(ou,[["render",lu]]);var ru=nu;const du="android",cu={vlc:"ic_icon",video:"ic_video",folder:"ic_folder",playlist:"ic_playlist",more:"ic_nav_more",audio:"ic_menu_audio",group:"ic_group",playAll:"ic_play_all",resumePlayback:"ic_resume_playback",artist:"ic_no_artist",album:"ic_album",genre:"ic_genre",empty:"ic_empty"},uu={vlc:"ic_icon",video:"ic_video",folder:"ic_folder",playlist:"ic_playlist",more:"ic_nav_more",audio:"ic_menu_audio",group:"ic_group",playAll:"ic_ctx_play_all",resumePlayback:"ic_resume_playback",artist:"ic_no_artist",album:"ic_album",genre:"ic_genre",empty:"ic_empty"};function pu(){switch(du){case"desktop":return uu;default:return cu}}const mu={vlcIcon:pu().vlc,videoIcon:pu().video,folderIcon:pu().folder,playlistIcon:pu().playlist,moreIcon:pu().more,audioIcon:pu().audio,groupIcon:pu().group,playAllIcon:pu().playAll,resumePlaybackIcon:pu().resumePlayback,artistIcon:pu().artist,albumIcon:pu().album,genreIcon:pu().genre,emptyIcon:pu().empty},gu=[{path:"/",redirect:"/videos",name:"Home"},{path:"/videos",name:"Video",children:[{path:"",component:uo,name:"VideoList",meta:{showDisplayBar:!0,showResume:!0,showGrouping:!0}},{path:"group/:groupId",component:uo,name:"VideoGroupList",meta:{showDisplayBar:!0,showFAB:!0,playAllType:"video-group",icon:mu.videoIcon}},{path:"folder/:folderId",component:uo,name:"VideoFolderList",meta:{showDisplayBar:!0,showFAB:!0,playAllType:"video-folder",icon:mu.folderIcon}}]},{path:"/audio",redirect:"/audio/artists",name:"AudioArtists",children:[{path:"artists",component:Yo,name:"AudioArtists",meta:{showDisplayBar:!0,isAudio:!0,showResume:!0,showGrouping:!1}},{path:"albums",component:Zo,name:"AudioAlbums",meta:{showDisplayBar:!0,isAudio:!0,showResume:!0,showGrouping:!1}},{path:"tracks",component:on,name:"AudioTracks",meta:{showDisplayBar:!0,isAudio:!0,showResume:!0,showGrouping:!1,showFAB:!0,playAllType:"tracks"}},{path:"genres",component:gn,name:"AudioGenres",meta:{showDisplayBar:!0,isAudio:!0,showResume:!0,showGrouping:!1}},{path:"artist/:artistId",component:ru,name:"ArtistDetails",meta:{showDisplayBar:!0,isAudio:!1,showResume:!1,showGrouping:!1,showFAB:!0,playAllType:"artist",icon:mu.artistIcon}},{path:"album/:albumId",component:ru,name:"AlbumDetails",meta:{showDisplayBar:!0,isAudio:!1,showResume:!1,showGrouping:!1,showFAB:!0,playAllType:"album",icon:mu.albumIcon}},{path:"genre/:genreId",component:ru,name:"GenreDetails",meta:{showDisplayBar:!0,isAudio:!1,showResume:!1,showGrouping:!1,showFAB:!0,playAllType:"genre",icon:mu.genreIcon}}]},{path:"/browse",name:"Browse",meta:{showDisplayBar:!0},children:[{path:"",component:kr,name:"BrowseList",meta:{showDisplayBar:!0}},{path:":browseId",component:Zn,name:"BrowseChild",meta:{showDisplayBar:!0,showFAB:!0,playAllType:"browser"}}]},{path:"/playlists",redirect:"/playlists/all",name:"Playlist",children:[{path:"all",component:bo,name:"PlaylistList",meta:{showDisplayBar:!0}},{path:"playlist/:playlistId",component:ru,name:"PlaylistDetails",meta:{showDisplayBar:!0,isAudio:!1,showResume:!1,showGrouping:!1,showFAB:!0,playAllType:"playlist",icon:mu.playlistIcon}}]},{path:"/more",redirect:"/more/all",name:"More",children:[{path:"all",component:Ro,name:"More",meta:{showDisplayBar:!0}}]},{path:"/search",component:zr,name:"SearchList",meta:{showDisplayBar:!1}},{path:"/about",component:oc,name:"About"},{path:"/feedback",component:eu,name:"Feedback"},{path:"/logs",component:Yn,name:"Logs"},{path:"/login",component:pd,name:"LoginPage"},{path:"/login/error",component:pd,name:"LoginPageError",meta:{showError:!0}},{path:"/ssl",component:Cd,name:"SslPage"}];var hu,yu=gu,wu=s(7853);async function fu(){const e=await fetch(Ot.translation).catch((function(){return new Response(JSON.stringify({code:400,message:"{}"}))}));return await e.json()}function bu(){return hu}function vu(){return fu().then((function(e){let t=(0,wu.o)({locale:"default",fallbackLocale:"default",messages:e});return t.global.setLocaleMessage("default",e),hu=t,t}))}s(7635);var _u={install:e=>{const t=Xe(),s=Fa(),i=[];e.config.globalProperties.$getIcons=()=>mu,e.config.globalProperties.$readableDuration=e=>{const t=Math.floor(e/1e3%60),s=Math.floor(e/6e4%60),i=Math.floor(e/36e5%3600);return`${0==i?"":i+":"}${0==i&&s<10?s:s<10?"0"+s:s}:${t<10?"0"+t:t}`},e.config.globalProperties.$getAppAsset=(e,t,s)=>((t<0||void 0===t)&&(t=24),Ot.appAsset(e,t,s)),e.config.globalProperties.$getImageUrl=(e,t)=>Ot.artwork(e.artworkURL,e.id,t),e.config.globalProperties.$download=(e,s,i)=>{i?window.location.href=Ot.prepareDownload(e.id,s):(t.warning={type:"message",message:bu().global.t("PREPARING_DOWNLOAD")},ki.Z.get(Ot.prepareDownload(e.id,s)).then((e=>{t.warning=void 0,window.location.href=Ot.download(e.data)})))},e.config.globalProperties.$favorite=(e,s,i)=>{ki.Z.get(Ot.favorite(e.id,s,i)).then((()=>{t.needRefresh=!0}))},e.config.globalProperties.$play=(e,s,i,a)=>{"new-stream"==s&&-1==e.id?t.showAddStream=!0:ki.Z.get(Ot.play(e,s,i,a)).catch((function(e){200!=e.response.status&&(t.warning={type:"warning",message:e.response.data})}))},e.config.globalProperties.$resume=(e,s)=>{ki.Z.get(Ot.resume(e,s)).catch((function(e){200!=e.response.status&&(t.warning={type:"warning",message:e.response.data})}))},e.config.globalProperties.$playAll=e=>{let s,i=e.meta.playAllType;switch(i){case"video-group":s=e.params.groupId;break;case"video-folder":s=e.params.folderId;break;case"artist":s=e.params.artistId;break;case"album":s=e.params.albumId;break;case"genre":s=e.params.genreId;break;case"playlist":s=e.params.playlistId;break;default:s=0}let a="browser"==i?e.params.browseId:"";ki.Z.get(Ot.playAll(i,s,a)).catch((function(e){200!=e.response.status&&(t.warning={type:"warning",message:e.response.data})}))},e.config.globalProperties.$resumePlayback=e=>{ki.Z.get(Ot.resumePlayback(e)).then((e=>{204==e.status&&(t.warning={type:"warning",message:bu().global.t("NOTHING_RESUME")})}))},e.config.globalProperties.$upload=e=>{const t=new AbortController,a=t=>{const{loaded:i,total:a}=t;let l=Math.floor(100*i/a);s.changeProgress(e,l)};var l=new FormData;l.append("media",e),l.append("filename",e.name),s.changeFileStatus(e,"uploading"),ki.Z.post(`${Ot.uploadMedia}`,l,{headers:{"Content-Type":"multipart/form-data"},signal:t.signal,onUploadProgress:a}).catch((function(){s.changeFileStatus(e,"error")})).then((t=>{void 0===t?s.changeFileStatus(e,"waiting"):s.changeFileStatus(e,"uploaded")})),i.push({file:e,controller:t})},e.config.globalProperties.$cancelUploadFile=e=>{let t=i.findLast((t=>t.file==e));const s=i.indexOf(t);t.controller.abort(),i.splice(s,1)},window.onbeforeunload=function(){if(null!=s.uploadingFiles.find((e=>"uploading"==e.status)))return""}}},ku=s(6112);const Su={mounted(e){let t=new vi.u(e);e.tt=t},unmounted(e){e.tt.hide()}},$u=(0,gl.p7)({history:(0,gl.r5)(),routes:yu});$u.beforeEach(((e,t,s)=>{const i=At();Pi.info(`Router: ${t.name} -> ${e.name}`),i.responsivePlayerShowing?(i.playqueueShowing=!1,i.responsivePlayerShowing=!1,s(!1)):s()}));const Du=(0,Qe.WB)();vu().then((function(e){(0,i.ri)(ml).directive("tooltip",Su).use(e).use(ku.Z).use($u).use(Du).use(Pi).use(_u).mount("#app")}));var Tu=$u},1371:function(){},6127:function(){}},t={};function s(i){var a=t[i];if(void 0!==a)return a.exports;var l=t[i]={exports:{}};return e[i](l,l.exports,s),l.exports}s.m=e,function(){s.amdO={}}(),function(){var e=[];s.O=function(t,i,a,l){if(!i){var o=1/0;for(c=0;c<e.length;c++){i=e[c][0],a=e[c][1],l=e[c][2];for(var n=!0,r=0;r<i.length;r++)(!1&l||o>=l)&&Object.keys(s.O).every((function(e){return s.O[e](i[r])}))?i.splice(r--,1):(n=!1,l<o&&(o=l));if(n){e.splice(c--,1);var d=a();void 0!==d&&(t=d)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[i,a,l]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,l,o=i[0],n=i[1],r=i[2],d=0;if(o.some((function(t){return 0!==e[t]}))){for(a in n)s.o(n,a)&&(s.m[a]=n[a]);if(r)var c=r(s)}for(t&&t(i);d<o.length;d++)l=o[d],s.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return s.O(c)},i=self["webpackChunkvue_css"]=self["webpackChunkvue_css"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(601)}));i=s.O(i)})();